\connect mini_data_lake_local

--
-- PostgreSQL database dump
--

-- Dumped from database version 15.7
-- Dumped by pg_dump version 15.3 (Ubuntu 15.3-1.pgdg20.04+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: public; Type: SCHEMA; Schema: -; Owner: crossfeed
--

-- *not* creating schema, since initdb creates it


ALTER SCHEMA public OWNER TO crossfeed;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: alembic_version; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.alembic_version (
    version_num character varying(32) NOT NULL
);


ALTER TABLE public.alembic_version OWNER TO dmz_mdl;

--
-- Name: alias; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.alias (
    alias_uid uuid NOT NULL,
    alias text NOT NULL,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.alias OWNER TO dmz_mdl;

--
-- Name: api_key; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.api_key (
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    last_used timestamp with time zone,
    hashed_key text NOT NULL,
    last_four text NOT NULL,
    user_id uuid
);


ALTER TABLE public.api_key OWNER TO dmz_mdl;

--
-- Name: asset_headers; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.asset_headers (
    _id uuid NOT NULL,
    sub_url text NOT NULL,
    tech_detected text NOT NULL,
    interesting_header text NOT NULL,
    ssl2 text,
    tls1 text,
    certificate text,
    scanned boolean,
    ssl_scanned boolean,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.asset_headers OWNER TO dmz_mdl;

--
-- Name: cidr; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.cidr (
    id uuid NOT NULL,
    created_date timestamp with time zone NOT NULL,
    network inet,
    start_ip inet,
    end_ip inet,
    retired boolean,
    updated_at timestamp with time zone NOT NULL,
    insert_alert text,
    first_seen date,
    last_seen date,
    current boolean,
    data_source_uid uuid
);


ALTER TABLE public.cidr OWNER TO dmz_mdl;

--
-- Name: cidr_organizations; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.cidr_organizations (
    id bigint NOT NULL,
    cidr_id uuid NOT NULL,
    organization_id uuid NOT NULL
);


ALTER TABLE public.cidr_organizations OWNER TO dmz_mdl;

--
-- Name: cidr_organizations_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.cidr_organizations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.cidr_organizations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: cpe; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.cpe (
    id uuid NOT NULL,
    name character varying(255) NOT NULL,
    version character varying(255) NOT NULL,
    vendor character varying(255) NOT NULL,
    last_seen_at timestamp with time zone NOT NULL
);


ALTER TABLE public.cpe OWNER TO dmz_mdl;

--
-- Name: cpe_product_mdl; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.cpe_product_mdl (
    cpe_product_uid uuid NOT NULL,
    cpe_product_name text,
    version_number text,
    cpe_vender_uid uuid NOT NULL
);


ALTER TABLE public.cpe_product_mdl OWNER TO dmz_mdl;

--
-- Name: cpe_product_mdl_cves; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.cpe_product_mdl_cves (
    id bigint NOT NULL,
    cpeproduct_id uuid NOT NULL,
    cve_id uuid NOT NULL
);


ALTER TABLE public.cpe_product_mdl_cves OWNER TO dmz_mdl;

--
-- Name: cpe_product_mdl_cves_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.cpe_product_mdl_cves ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.cpe_product_mdl_cves_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: cpe_vender; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.cpe_vender (
    cpe_vender_uid uuid NOT NULL,
    vender_name text
);


ALTER TABLE public.cpe_vender OWNER TO dmz_mdl;

--
-- Name: credential_breaches; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.credential_breaches (
    credential_breaches_uid uuid NOT NULL,
    breach_name text NOT NULL,
    description text,
    exposed_cred_count bigint,
    breach_date date,
    added_date timestamp with time zone,
    modified_date timestamp with time zone,
    data_classes text[],
    password_included boolean,
    is_verified boolean,
    is_fabricated boolean,
    is_sensitive boolean,
    is_retired boolean,
    is_spam_list boolean,
    data_source_uid uuid
);


ALTER TABLE public.credential_breaches OWNER TO dmz_mdl;

--
-- Name: credential_exposures; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.credential_exposures (
    credential_exposures_uid uuid NOT NULL,
    email text NOT NULL,
    root_domain text,
    sub_domain text,
    breach_name text,
    modified_date timestamp with time zone,
    name text,
    login_id text,
    phone text,
    password text,
    hash_type text,
    intelx_system_id text,
    credential_breaches_uid uuid NOT NULL,
    data_source_uid uuid,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.credential_exposures OWNER TO dmz_mdl;

--
-- Name: cve; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.cve (
    id uuid NOT NULL,
    name character varying(255),
    published_at timestamp with time zone,
    modified_at timestamp with time zone,
    status character varying(255),
    description text,
    cvss_v2_source character varying(255),
    cvss_v2_type character varying(255),
    cvss_v2_version character varying(255),
    cvss_v2_vector_string character varying(255),
    cvss_v2_base_score character varying(255),
    cvss_v2_base_severity character varying(255),
    cvss_v2_exploitability_score character varying(255),
    cvss_v2_impact_score character varying(255),
    cvss_v3_source character varying(255),
    cvss_v3_type character varying(255),
    cvss_v3_version character varying(255),
    cvss_v3_vector_string character varying(255),
    cvss_v3_base_score character varying(255),
    cvss_v3_base_severity character varying(255),
    cvss_v3_exploitability_score character varying(255),
    cvss_v3_impact_score character varying(255),
    cvss_v4_source character varying(255),
    cvss_v4_type character varying(255),
    cvss_v4_version character varying(255),
    cvss_v4_vector_string character varying(255),
    cvss_v4_base_score character varying(255),
    cvss_v4_base_severity character varying(255),
    cvss_v4_exploitability_score character varying(255),
    cvss_v4_impact_score character varying(255),
    weaknesses text,
    "references" text,
    dve_score numeric(1000,1000)
);


ALTER TABLE public.cve OWNER TO dmz_mdl;

--
-- Name: cve_cpes; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.cve_cpes (
    id bigint NOT NULL,
    cve_id uuid NOT NULL,
    cpe_id uuid NOT NULL
);


ALTER TABLE public.cve_cpes OWNER TO dmz_mdl;

--
-- Name: cve_cpes_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.cve_cpes ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.cve_cpes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: cyhy_contacts; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.cyhy_contacts (
    _id uuid NOT NULL,
    org_id text NOT NULL,
    org_name text NOT NULL,
    phone text,
    contact_type text NOT NULL,
    email text,
    name text,
    date_pulled date,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.cyhy_contacts OWNER TO dmz_mdl;

--
-- Name: cyhy_db_assets; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.cyhy_db_assets (
    _id uuid NOT NULL,
    org_id text,
    org_name text,
    contact text,
    network inet,
    type text,
    first_seen date,
    last_seen date,
    currently_in_cyhy boolean,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.cyhy_db_assets OWNER TO dmz_mdl;

--
-- Name: cyhy_kevs; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.cyhy_kevs (
    cyhy_kevs_uid uuid NOT NULL,
    kev character varying(255),
    first_seen date,
    last_seen date
);


ALTER TABLE public.cyhy_kevs OWNER TO dmz_mdl;

--
-- Name: data_source; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.data_source (
    data_source_uid uuid NOT NULL,
    name text NOT NULL,
    description text NOT NULL,
    last_run date NOT NULL
);


ALTER TABLE public.data_source OWNER TO dmz_mdl;

--
-- Name: django_migrations; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.django_migrations (
    id bigint NOT NULL,
    app character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    applied timestamp with time zone NOT NULL
);


ALTER TABLE public.django_migrations OWNER TO dmz_mdl;

--
-- Name: django_migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.django_migrations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_migrations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: dns_records; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.dns_records (
    dns_record_uid uuid NOT NULL,
    domain_name text,
    domain_type text,
    created_date timestamp with time zone,
    updated_date timestamp with time zone,
    expiration_date timestamp with time zone,
    name_servers text,
    whois_server text,
    registrar_name text,
    status text,
    clean_text text,
    raw_text text,
    registrant_name text,
    registrant_organization text,
    registrant_street text,
    registrant_city text,
    registrant_state text,
    registrant_post_code text,
    registrant_country text,
    registrant_email text,
    registrant_phone text,
    registrant_phone_ext text,
    registrant_fax text,
    registrant_fax_ext text,
    registrant_raw_text text,
    administrative_name text,
    administrative_organization text,
    administrative_street text,
    administrative_city text,
    administrative_state text,
    administrative_post_code text,
    administrative_country text,
    administrative_email text,
    administrative_phone text,
    administrative_phone_ext text,
    administrative_fax text,
    administrative_fax_ext text,
    administrative_raw_text text,
    technical_name text,
    technical_organization text,
    technical_street text,
    technical_city text,
    technical_state text,
    technical_post_code text,
    technical_country text,
    technical_email text,
    technical_phone text,
    technical_phone_ext text,
    technical_fax text,
    technical_fax_ext text,
    technical_raw_text text,
    billing_name text,
    billing_organization text,
    billing_street text,
    billing_city text,
    billing_state text,
    billing_post_code text,
    billing_country text,
    billing_email text,
    billing_phone text,
    billing_phone_ext text,
    billing_fax text,
    billing_fax_ext text,
    billing_raw_text text,
    zone_name text,
    zone_organization text,
    zone_street text,
    zone_city text,
    zone_state text,
    zone_post_code text,
    zone_country text,
    zone_email text,
    zone_phone text,
    zone_phone_ext text,
    zone_fax text,
    zone_fax_ext text,
    zone_raw_text text
);


ALTER TABLE public.dns_records OWNER TO dmz_mdl;

--
-- Name: domain_alerts; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.domain_alerts (
    domain_alert_uid uuid NOT NULL,
    organization_uid uuid NOT NULL,
    alert_type text,
    message text,
    previous_value text,
    new_value text,
    date date,
    data_source_uid uuid NOT NULL,
    sub_domain_uid uuid NOT NULL
);


ALTER TABLE public.domain_alerts OWNER TO dmz_mdl;

--
-- Name: domain_permutations; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.domain_permutations (
    suspected_domain_uid uuid NOT NULL,
    domain_permutation text,
    ipv4 text,
    ipv6 text,
    mail_server text,
    name_server text,
    fuzzer text,
    date_observed date,
    ssdeep_score text,
    malicious boolean,
    blocklist_attack_count integer,
    blocklist_report_count integer,
    dshield_record_count integer,
    dshield_attack_count integer,
    date_active date,
    data_source_uid uuid NOT NULL,
    organization_uid uuid NOT NULL,
    sub_domain_uid uuid
);


ALTER TABLE public.domain_permutations OWNER TO dmz_mdl;

--
-- Name: dotgov_domains; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.dotgov_domains (
    dotgov_uid uuid NOT NULL,
    domain_name text NOT NULL,
    domain_type text,
    agency text,
    organization text,
    city text,
    state text,
    security_contact_email text
);


ALTER TABLE public.dotgov_domains OWNER TO dmz_mdl;

--
-- Name: executives; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.executives (
    executives_uid uuid NOT NULL,
    executives text NOT NULL,
    organization uuid NOT NULL
);


ALTER TABLE public.executives OWNER TO dmz_mdl;

--
-- Name: host; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.host (
    id character varying(255) NOT NULL,
    ip_string character varying(255),
    updated_timestamp timestamp with time zone,
    latest_netscan_1_timestamp timestamp with time zone,
    latest_netscan_2_timestamp timestamp with time zone,
    latest_vulnscan_timestamp timestamp with time zone,
    latest_portscan_timestamp timestamp with time zone,
    latest_scan_completion_timestamp timestamp with time zone,
    location_longitude numeric(10,6),
    location_latitude numeric(10,6),
    priority integer,
    next_scan_timestamp timestamp with time zone,
    rand numeric(10,6),
    curr_stage character varying(255),
    host_live boolean,
    host_live_reason character varying(255),
    status character varying(255),
    ip_id text,
    organization_id uuid
);


ALTER TABLE public.host OWNER TO dmz_mdl;

--
-- Name: ip; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.ip (
    ip_hash text NOT NULL,
    created_timestamp timestamp with time zone NOT NULL,
    updated_timestamp timestamp with time zone,
    last_seen_timestamp timestamp with time zone,
    ip inet,
    live boolean,
    false_positive boolean,
    retired boolean,
    last_reverse_lookup timestamp with time zone,
    from_cidr boolean,
    has_shodan_results boolean,
    current boolean,
    organization_id uuid NOT NULL,
    origin_cidr uuid
);


ALTER TABLE public.ip OWNER TO dmz_mdl;

--
-- Name: ip_sub_domains; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.ip_sub_domains (
    id bigint NOT NULL,
    ip_id text NOT NULL,
    subdomains_id uuid NOT NULL
);


ALTER TABLE public.ip_sub_domains OWNER TO dmz_mdl;

--
-- Name: ip_sub_domains_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.ip_sub_domains ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.ip_sub_domains_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: location; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.location (
    id uuid NOT NULL,
    name character varying(255),
    country_abrv character varying(255),
    country character varying(255),
    county character varying(255),
    county_fips character varying(255),
    gnis_id character varying(255),
    state_abrv character varying(255),
    state_fips character varying(255),
    state character varying(255)
);


ALTER TABLE public.location OWNER TO dmz_mdl;

--
-- Name: mentions; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.mentions (
    mentions_uid uuid NOT NULL,
    category text,
    collection_date text,
    content text,
    creator text,
    date date,
    sixgill_mention_id text,
    post_id text,
    lang text,
    rep_grade text,
    site text,
    site_grade text,
    title text,
    type text,
    url text,
    comments_count text,
    sub_category text,
    tags text,
    title_translated text,
    content_translated text,
    detected_lang text,
    data_source_uid uuid NOT NULL,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.mentions OWNER TO dmz_mdl;

--
-- Name: notification; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.notification (
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    start_datetime timestamp with time zone,
    end_datetime timestamp with time zone,
    maintenance_type character varying(255),
    status character varying(255),
    updated_by character varying(255),
    message text
);


ALTER TABLE public.notification OWNER TO dmz_mdl;

--
-- Name: org_id_map; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.org_id_map (
    id bigint NOT NULL,
    cyhy_id text,
    pe_org_id text,
    merge_orgs boolean
);


ALTER TABLE public.org_id_map OWNER TO dmz_mdl;

--
-- Name: org_id_map_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.org_id_map ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.org_id_map_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: org_type; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.org_type (
    org_type_uid uuid NOT NULL,
    org_type text
);


ALTER TABLE public.org_type OWNER TO dmz_mdl;

--
-- Name: organization; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.organization (
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    acronym character varying(255),
    retired boolean,
    name character varying(255) NOT NULL,
    root_domains text[],
    ip_blocks text NOT NULL,
    is_passive boolean NOT NULL,
    pending_domains text[],
    date_pe_first_reported timestamp with time zone,
    country text,
    country_name text,
    state character varying(255),
    region_id character varying(255),
    state_fips integer,
    state_name character varying(255),
    county text,
    county_fips integer,
    type character varying(255),
    pe_report_on boolean,
    pe_premium boolean,
    pe_demo boolean,
    agency_type text,
    is_parent boolean,
    pe_run_scans boolean,
    stakeholder boolean,
    election boolean,
    was_stakeholder boolean,
    vs_stakeholder boolean,
    pe_stakeholder boolean,
    receives_cyhy_report boolean,
    receives_bod_report boolean,
    receives_cybex_report boolean,
    init_stage character varying(255),
    scheduler character varying(255),
    enrolled_in_vs_timestamp timestamp with time zone NOT NULL,
    period_start_vs_timestamp timestamp with time zone NOT NULL,
    report_types jsonb,
    scan_types jsonb,
    scan_windows jsonb,
    scan_limits jsonb,
    password text,
    cyhy_period_start date,
    created_by_id uuid,
    location_id uuid,
    org_type_id uuid,
    parent_id uuid
);


ALTER TABLE public.organization OWNER TO dmz_mdl;

--
-- Name: organization_tag; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.organization_tag (
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    name character varying(255) NOT NULL
);


ALTER TABLE public.organization_tag OWNER TO dmz_mdl;

--
-- Name: organization_tag_organization; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.organization_tag_organization (
    id bigint NOT NULL,
    organizationtag_id uuid NOT NULL,
    organization_id uuid NOT NULL
);


ALTER TABLE public.organization_tag_organization OWNER TO dmz_mdl;

--
-- Name: organization_tag_organization_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.organization_tag_organization ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.organization_tag_organization_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: pe_report_summary_stats; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.pe_report_summary_stats (
    report_uid uuid NOT NULL,
    start_date date NOT NULL,
    end_date date,
    ip_count integer,
    root_count integer,
    sub_count integer,
    ports_count integer,
    creds_count integer,
    breach_count integer,
    cred_password_count integer,
    domain_alert_count integer,
    suspected_domain_count integer,
    insecure_port_count integer,
    verified_vuln_count integer,
    suspected_vuln_count integer,
    suspected_vuln_addrs_count integer,
    threat_actor_count integer,
    dark_web_alerts_count integer,
    dark_web_mentions_count integer,
    dark_web_executive_alerts_count integer,
    dark_web_asset_alerts_count integer,
    pe_number_score text,
    pe_letter_grade text,
    pe_percent_score numeric(1000,1000),
    cidr_count integer,
    port_protocol_count integer,
    software_count integer,
    foreign_ips_count integer,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.pe_report_summary_stats OWNER TO dmz_mdl;

--
-- Name: pe_team_members; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.pe_team_members (
    team_member_uid uuid NOT NULL,
    team_member_fname text NOT NULL,
    team_member_lname text NOT NULL,
    team_member_email text NOT NULL,
    "team_member_ghID" text NOT NULL,
    team_member_phone text,
    team_member_role text,
    team_member_notes text
);


ALTER TABLE public.pe_team_members OWNER TO dmz_mdl;

--
-- Name: pe_users; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.pe_users (
    id uuid NOT NULL,
    email character varying(64),
    username character varying(64),
    admin integer,
    role integer,
    password_hash character varying(128),
    api_key character varying(128)
);


ALTER TABLE public.pe_users OWNER TO dmz_mdl;

--
-- Name: port_scan; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.port_scan (
    id character varying(255) NOT NULL,
    ip_string character varying(255),
    latest boolean NOT NULL,
    port integer,
    protocol character varying(255),
    reason character varying(255),
    service jsonb NOT NULL,
    service_name character varying(255),
    service_confidence integer,
    service_method character varying(255),
    source character varying(255),
    state character varying(255),
    time_scanned timestamp with time zone,
    ip_id text,
    organization_id uuid
);


ALTER TABLE public.port_scan OWNER TO dmz_mdl;

--
-- Name: pshtt_results; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.pshtt_results (
    pshtt_results_uid uuid NOT NULL,
    sub_domain text NOT NULL,
    date_scanned date,
    base_domain text,
    base_domain_hsts_preloaded boolean,
    canonical_url text,
    defaults_to_https boolean,
    domain text,
    domain_enforces_https boolean,
    domain_supports_https boolean,
    domain_uses_strong_hsts boolean,
    downgrades_https boolean,
    htss boolean,
    hsts_entire_domain boolean,
    hsts_header text,
    hsts_max_age numeric(1000,1000),
    hsts_preload_pending boolean,
    hsts_preload_ready boolean,
    hsts_preloaded boolean,
    https_bad_chain boolean,
    https_bad_hostname boolean,
    https_cert_chain_length integer,
    https_client_auth_required boolean,
    https_custom_truststore_trusted boolean,
    https_expired_cert boolean,
    https_full_connection boolean,
    https_live boolean,
    https_probably_missing_intermediate_cert boolean,
    https_publicly_trusted boolean,
    https_self_signed_cert boolean,
    https_leaf_cert_expiration_date date,
    https_leaf_cert_issuer text,
    https_leaf_cert_subject text,
    https_root_cert_issuer text,
    ip inet,
    live boolean,
    notes text,
    redirect boolean,
    redirect_to text,
    server_header text,
    server_version text,
    strictly_forces_https boolean,
    unknown_error boolean,
    valid_https boolean,
    ep_http_headers text,
    ep_http_server_header text,
    ep_http_server_version text,
    ep_https_headers text,
    ep_https_hsts_header text,
    ep_https_server_header text,
    ep_https_server_version text,
    ep_httpswww_headers text,
    ep_httpswww_hsts_header text,
    ep_httpswww_server_header text,
    ep_httpswww_server_version text,
    ep_httpwww_headers text,
    ep_httpwww_server_header text,
    ep_httpwww_server_version text,
    data_source_uid uuid NOT NULL,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.pshtt_results OWNER TO dmz_mdl;

--
-- Name: query-result-cache; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public."query-result-cache" (
    id uuid NOT NULL,
    identifier character varying(255),
    "time" bigint NOT NULL,
    duration integer NOT NULL,
    query text NOT NULL,
    result text NOT NULL
);


ALTER TABLE public."query-result-cache" OWNER TO dmz_mdl;

--
-- Name: role; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.role (
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    role character varying(255) NOT NULL,
    approved boolean NOT NULL,
    approved_by_id uuid,
    created_by_id uuid,
    organization_id uuid,
    user_id uuid
);


ALTER TABLE public.role OWNER TO dmz_mdl;

--
-- Name: root_domains; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.root_domains (
    root_domain_uid uuid NOT NULL,
    root_domain text NOT NULL,
    ip_address text,
    enumerate_subs boolean,
    data_source_uid uuid NOT NULL,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.root_domains OWNER TO dmz_mdl;

--
-- Name: saved_search; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.saved_search (
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    name character varying(255) NOT NULL,
    search_term character varying(255) NOT NULL,
    sort_direction character varying(255) NOT NULL,
    sort_field character varying(255) NOT NULL,
    count integer NOT NULL,
    filters jsonb NOT NULL,
    search_path character varying(255) NOT NULL,
    created_by_id uuid
);


ALTER TABLE public.saved_search OWNER TO dmz_mdl;

--
-- Name: scan; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.scan (
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    name character varying(255) NOT NULL,
    arguments jsonb NOT NULL,
    frequency integer NOT NULL,
    last_run timestamp with time zone,
    is_granular boolean NOT NULL,
    is_user_modifiable boolean,
    is_single_scan boolean NOT NULL,
    manual_run_pending boolean NOT NULL,
    created_by uuid
);


ALTER TABLE public.scan OWNER TO dmz_mdl;

--
-- Name: scan_organization_tags; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.scan_organization_tags (
    id bigint NOT NULL,
    scan_id uuid NOT NULL,
    organizationtag_id uuid NOT NULL
);


ALTER TABLE public.scan_organization_tags OWNER TO dmz_mdl;

--
-- Name: scan_organization_tags_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.scan_organization_tags ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.scan_organization_tags_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: scan_organizations; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.scan_organizations (
    id bigint NOT NULL,
    scan_id uuid NOT NULL,
    organization_id uuid NOT NULL
);


ALTER TABLE public.scan_organizations OWNER TO dmz_mdl;

--
-- Name: scan_organizations_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.scan_organizations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.scan_organizations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: scan_task; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.scan_task (
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    status text NOT NULL,
    type text NOT NULL,
    fargate_task_arn text,
    input text,
    output text,
    requested_at timestamp with time zone,
    started_at timestamp with time zone,
    finished_at timestamp with time zone,
    queued_at timestamp with time zone,
    organization_id uuid,
    scan_id uuid
);


ALTER TABLE public.scan_task OWNER TO dmz_mdl;

--
-- Name: scan_task_organization_tags; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.scan_task_organization_tags (
    id bigint NOT NULL,
    scantask_id uuid NOT NULL,
    organizationtag_id uuid NOT NULL
);


ALTER TABLE public.scan_task_organization_tags OWNER TO dmz_mdl;

--
-- Name: scan_task_organization_tags_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.scan_task_organization_tags ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.scan_task_organization_tags_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: sector; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.sector (
    id uuid NOT NULL,
    name character varying(255),
    acronym character varying(255),
    retired boolean
);


ALTER TABLE public.sector OWNER TO dmz_mdl;

--
-- Name: sector_organizations; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.sector_organizations (
    id bigint NOT NULL,
    sector_id uuid NOT NULL,
    organization_id uuid NOT NULL
);


ALTER TABLE public.sector_organizations OWNER TO dmz_mdl;

--
-- Name: sector_organizations_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.sector_organizations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.sector_organizations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: service; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.service (
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    service_source text,
    port integer NOT NULL,
    service text,
    last_seen timestamp with time zone,
    banner text,
    products jsonb NOT NULL,
    censys_metadata jsonb NOT NULL,
    censys_ipv4_results jsonb NOT NULL,
    intrigue_ident_results jsonb NOT NULL,
    shodan_results jsonb NOT NULL,
    wappalyzer_results jsonb NOT NULL,
    discovered_by_id uuid,
    domain_id uuid
);


ALTER TABLE public.service OWNER TO dmz_mdl;

--
-- Name: shodan_assets; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.shodan_assets (
    shodan_asset_uid uuid NOT NULL,
    organization_name text,
    ip text,
    port integer,
    protocol text,
    "timestamp" timestamp with time zone,
    product text,
    server text,
    tags jsonb,
    domains jsonb,
    hostnames jsonb,
    isp text,
    asn integer,
    country_code text,
    location text,
    data_source_uid uuid,
    organization_uid uuid
);


ALTER TABLE public.shodan_assets OWNER TO dmz_mdl;

--
-- Name: shodan_vulns; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.shodan_vulns (
    shodan_vuln_uid uuid NOT NULL,
    organization_name text,
    ip text,
    port text,
    protocol text,
    "timestamp" timestamp with time zone,
    cve text,
    severity text,
    cvss numeric(1000,1000),
    summary text,
    product text,
    attack_vector text,
    av_description text,
    attack_complexity text,
    ac_description text,
    confidentiality_impact text,
    ci_description text,
    integrity_impact text,
    ii_description text,
    availability_impact text,
    ai_description text,
    tags text[],
    domains text[],
    hostnames text[],
    isp text,
    asn integer,
    type text,
    name text,
    potential_vulns text[],
    mitigation text,
    server text,
    is_verified boolean,
    banner text,
    version text,
    cpe text[],
    data_source_uid uuid,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.shodan_vulns OWNER TO dmz_mdl;

--
-- Name: sixgill_alerts; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.sixgill_alerts (
    alerts_uid uuid NOT NULL,
    alert_name text,
    content text,
    date date,
    sixgill_id text,
    read text,
    severity text,
    site text,
    threat_level text,
    threats text,
    title text,
    user_id text,
    category text,
    lang text,
    content_snip text,
    asset_mentioned text,
    asset_type text,
    data_source_uid uuid NOT NULL,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.sixgill_alerts OWNER TO dmz_mdl;

--
-- Name: sub_domains; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.sub_domains (
    sub_domain_uid uuid NOT NULL,
    sub_domain text NOT NULL,
    status boolean,
    first_seen date,
    last_seen date,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    current boolean,
    identified boolean,
    ip_address text,
    synced_at timestamp with time zone,
    from_root_domain text,
    subdomain_source text,
    ip_only boolean NOT NULL,
    reverse_name character varying(512) NOT NULL,
    screenshot character varying(512),
    country character varying(255),
    asn character varying(255),
    cloud_hosted boolean NOT NULL,
    ssl jsonb,
    censys_certificates_results jsonb NOT NULL,
    trustymail_results jsonb NOT NULL,
    data_source_uid uuid NOT NULL,
    dns_record_uid uuid,
    organization_uid uuid NOT NULL,
    root_domain_uid uuid NOT NULL
);


ALTER TABLE public.sub_domains OWNER TO dmz_mdl;

--
-- Name: ticket; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.ticket (
    id character varying(255) NOT NULL,
    cve_string character varying(255),
    cvss_base_score numeric(5,2),
    cvss_version character varying(255),
    vuln_name character varying(255),
    cvss_score_source character varying(255),
    cvss_severity numeric(5,2),
    vpr_score numeric(5,2),
    false_positive boolean,
    ip_string character varying(255),
    updated_timestamp timestamp with time zone,
    location_longitude numeric(9,6),
    location_latitude numeric(9,6),
    found_in_latest_host_scan boolean,
    vuln_port integer,
    port_protocol character varying(255),
    snapshots_bool boolean,
    vuln_source character varying(255),
    vuln_source_id integer,
    closed_timestamp timestamp with time zone,
    opened_timestamp timestamp with time zone,
    cve_id uuid,
    ip_id text,
    organization_id uuid
);


ALTER TABLE public.ticket OWNER TO dmz_mdl;

--
-- Name: ticket_event; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.ticket_event (
    id uuid NOT NULL,
    reference character varying(255),
    action character varying(255),
    reason character varying(255),
    event_timestamp timestamp with time zone,
    delta jsonb NOT NULL,
    ticket_id character varying(255),
    vuln_scan_id character varying(255)
);


ALTER TABLE public.ticket_event OWNER TO dmz_mdl;

--
-- Name: top_cves; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.top_cves (
    top_cves_uid uuid NOT NULL,
    cve_id text,
    dynamic_rating text,
    nvd_base_score text,
    date date,
    summary text,
    data_source_uid uuid NOT NULL
);


ALTER TABLE public.top_cves OWNER TO dmz_mdl;

--
-- Name: topic_totals; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.topic_totals (
    count_uuid uuid NOT NULL,
    organization_uid uuid NOT NULL,
    content_count integer NOT NULL,
    count_date text
);


ALTER TABLE public.topic_totals OWNER TO dmz_mdl;

--
-- Name: unique_software; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.unique_software (
    _id uuid NOT NULL,
    software_name text NOT NULL
);


ALTER TABLE public.unique_software OWNER TO dmz_mdl;

--
-- Name: user; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public."user" (
    id uuid NOT NULL,
    "cognitoId" character varying(255),
    login_gov_id character varying(255),
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    first_name character varying(255) NOT NULL,
    last_name character varying(255) NOT NULL,
    full_name character varying(255) NOT NULL,
    email character varying(255) NOT NULL,
    invite_pending boolean NOT NULL,
    login_blocked_by_maintenance boolean NOT NULL,
    date_accepted_terms timestamp with time zone,
    accepted_terms_version text,
    last_logged_in timestamp with time zone,
    user_type text NOT NULL,
    region_id character varying(255),
    state character varying(255),
    okta_id character varying(255)
);


ALTER TABLE public."user" OWNER TO dmz_mdl;

--
-- Name: vuln_scan; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.vuln_scan (
    id character varying(255) NOT NULL,
    cert_id character varying(255),
    cpe character varying(255),
    cve_string character varying(255),
    cvss_base_score character varying(255),
    cvss_temporal_score character varying(255),
    cvss_temporal_vector character varying(255),
    cvss_vector character varying(255),
    description character varying(255),
    exploit_available character varying(255),
    exploitability_ease character varying(255),
    ip_string character varying(255),
    latest boolean NOT NULL,
    owner character varying(255),
    osvdb_id character varying(255),
    patch_publication_timestamp timestamp with time zone,
    cisa_known_exploited timestamp with time zone,
    port integer,
    port_protocol character varying(255),
    risk_factor character varying(255),
    script_version character varying(255),
    see_also character varying(255),
    service character varying(255),
    severity integer,
    solution character varying(255),
    source character varying(255),
    synopsis character varying(255),
    vuln_detection_timestamp timestamp with time zone,
    vuln_publication_timestamp timestamp with time zone,
    xref character varying(255),
    cwe character varying(255),
    bid character varying(255),
    exploited_by_malware boolean NOT NULL,
    thorough_tests boolean NOT NULL,
    cvss_score_rationale character varying(255),
    cvss_score_source character varying(255),
    cvss3_base_score numeric(5,2),
    cvss3_vector character varying(255),
    cvss3_temporal_vector character varying(255),
    cvss3_temporal_score numeric(5,2),
    asset_inventory boolean NOT NULL,
    plugin_id character varying(255),
    plugin_modification_date timestamp with time zone,
    plugin_publication_date timestamp with time zone,
    plugin_name character varying(255),
    plugin_type character varying(255),
    plugin_family character varying(255),
    f_name character varying(255),
    cisco_bug_id character varying(255),
    cisco_sa character varying(255),
    plugin_output text,
    other_findings jsonb NOT NULL,
    cve_id uuid,
    ip_id text,
    organization_id uuid
);


ALTER TABLE public.vuln_scan OWNER TO dmz_mdl;

--
-- Name: vulnerability; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.vulnerability (
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    last_seen timestamp with time zone,
    title text NOT NULL,
    cve text,
    cwe text,
    cpe text,
    description text NOT NULL,
    "references" jsonb NOT NULL,
    cvss numeric(100,5),
    severity text,
    needs_population boolean NOT NULL,
    state text NOT NULL,
    substate text NOT NULL,
    source text NOT NULL,
    notes text NOT NULL,
    actions jsonb NOT NULL,
    structured_data jsonb NOT NULL,
    is_kev boolean,
    kev_results jsonb,
    domain_id uuid,
    service_id uuid
);


ALTER TABLE public.vulnerability OWNER TO dmz_mdl;

--
-- Name: was_findings; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.was_findings (
    finding_uid uuid NOT NULL,
    finding_type text,
    webapp_id integer,
    was_org_id text,
    owasp_category text,
    severity text,
    times_detected integer,
    base_score double precision,
    temporal_score double precision,
    fstatus text,
    last_detected date,
    first_detected date,
    is_remediated boolean,
    potential boolean,
    webapp_url text,
    webapp_name text,
    name text,
    cvss_v3_attack_vector text,
    cwe_list integer[],
    wasc_list jsonb,
    last_tested date,
    fixed_date date,
    is_ignored boolean,
    url text,
    qid integer,
    response text
);


ALTER TABLE public.was_findings OWNER TO dmz_mdl;

--
-- Name: was_history; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.was_history (
    id bigint NOT NULL,
    was_org_id text,
    date_scanned date NOT NULL,
    vuln_cnt integer,
    vuln_webapp_cnt integer,
    web_app_cnt integer,
    high_rem_time integer,
    crit_rem_time integer,
    crit_vuln_cnt integer,
    high_vuln_cnt integer,
    report_period date,
    high_rem_cnt integer,
    crit_rem_cnt integer,
    total_potential integer
);


ALTER TABLE public.was_history OWNER TO dmz_mdl;

--
-- Name: was_history_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.was_history ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.was_history_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: was_map; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.was_map (
    was_org_id text NOT NULL,
    pe_org_id uuid,
    report_on boolean,
    last_scanned date
);


ALTER TABLE public.was_map OWNER TO dmz_mdl;

--
-- Name: was_report; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.was_report (
    id bigint NOT NULL,
    org_name text,
    date_pulled timestamp with time zone,
    last_scan_date timestamp with time zone,
    security_risk text,
    total_info integer,
    num_apps integer,
    risk_color text,
    sensitive_count integer,
    sensitive_color text,
    max_days_open_urgent integer,
    max_days_open_critical integer,
    urgent_color text,
    critical_color text,
    org_was_acronym text,
    name_len text,
    vuln_csv_dict jsonb,
    ssn_cc_dict jsonb,
    app_overview_csv_dict jsonb,
    details_csv jsonb,
    info_csv jsonb,
    links_crawled jsonb,
    links_rejected jsonb,
    emails_found jsonb,
    owasp_count_dict jsonb,
    group_count_dict jsonb,
    fixed integer,
    total integer,
    vulns_monthly_dict jsonb,
    path_disc integer,
    info_disc integer,
    cross_site integer,
    burp integer,
    sql_inj integer,
    bugcrowd integer,
    reopened integer,
    reopened_color text,
    new_vulns integer,
    new_vulns_color text,
    tot_vulns integer,
    tot_vulns_color text,
    lev1 integer,
    lev2 integer,
    lev3 integer,
    lev4 integer,
    lev5 integer,
    severities integer[],
    ages integer[],
    pdf_obj bytea
);


ALTER TABLE public.was_report OWNER TO dmz_mdl;

--
-- Name: was_report_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.was_report ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.was_report_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: was_tracker_customer_data; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.was_tracker_customer_data (
    customer_id uuid NOT NULL,
    tag text NOT NULL,
    customer_name text NOT NULL,
    testing_sector text NOT NULL,
    ci_type text NOT NULL,
    jira_ticket text NOT NULL,
    ticket text NOT NULL,
    next_scheduled text NOT NULL,
    last_scanned text NOT NULL,
    frequency text NOT NULL,
    comments_notes text NOT NULL,
    was_report_poc text NOT NULL,
    was_report_email text NOT NULL,
    onboarding_date text NOT NULL,
    no_of_web_apps integer NOT NULL,
    no_web_apps_last_updated text,
    elections boolean NOT NULL,
    fceb boolean NOT NULL,
    special_report boolean NOT NULL,
    report_password text NOT NULL,
    child_tags text NOT NULL
);


ALTER TABLE public.was_tracker_customer_data OWNER TO dmz_mdl;

--
-- Name: web_assets; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.web_assets (
    asset_uid uuid NOT NULL,
    asset_type text NOT NULL,
    asset text NOT NULL,
    ip_type text,
    verified boolean,
    asset_origin text,
    report_on boolean,
    last_scanned timestamp with time zone,
    report_status_reason text,
    data_source_uid uuid NOT NULL,
    organization_uid uuid NOT NULL
);


ALTER TABLE public.web_assets OWNER TO dmz_mdl;

--
-- Name: webpage; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.webpage (
    id uuid NOT NULL,
    created_at timestamp with time zone NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    synced_at timestamp with time zone,
    last_seen timestamp with time zone,
    "s3Key" text,
    url text NOT NULL,
    status numeric(100,5) NOT NULL,
    response_size numeric(100,5),
    headers jsonb NOT NULL,
    discovered_by_id uuid,
    domain_id uuid
);


ALTER TABLE public.webpage OWNER TO dmz_mdl;

--
-- Name: weekly_statuses_mdl; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.weekly_statuses_mdl (
    weekly_status_uid uuid NOT NULL,
    user_status text NOT NULL,
    key_accomplishments text,
    ongoing_task text NOT NULL,
    upcoming_task text NOT NULL,
    obstacles text,
    non_standard_meeting text,
    deliverables text,
    pto text,
    week_ending date NOT NULL,
    notes text,
    "statusComplete" integer
);


ALTER TABLE public.weekly_statuses_mdl OWNER TO dmz_mdl;

--
-- Name: xpanse_alerts_mdl; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.xpanse_alerts_mdl (
    xpanse_alert_uid uuid NOT NULL,
    time_pulled_from_xpanse timestamp with time zone,
    alert_id text NOT NULL,
    detection_timestamp timestamp with time zone,
    alert_name text,
    description text,
    host_name text,
    alert_action text,
    action_pretty text,
    action_country text[],
    action_remote_port integer[],
    starred boolean,
    external_id text,
    related_external_id text,
    alert_occurrence integer,
    severity text,
    matching_status text,
    local_insert_ts timestamp with time zone,
    last_modified_ts timestamp with time zone,
    case_id integer,
    event_timestamp timestamp with time zone[],
    alert_type text,
    resolution_status text,
    resolution_comment text,
    tags text[],
    last_observed timestamp with time zone,
    country_codes text[],
    cloud_providers text[],
    ipv4_addresses text[],
    domain_names text[],
    service_ids text[],
    website_ids text[],
    asset_ids text[],
    certificate jsonb,
    port_protocol text,
    attack_surface_rule_name text,
    remediation_guidance text,
    asset_identifiers jsonb
);


ALTER TABLE public.xpanse_alerts_mdl OWNER TO dmz_mdl;

--
-- Name: xpanse_alerts_mdl_assets; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.xpanse_alerts_mdl_assets (
    id bigint NOT NULL,
    xpansealerts_id uuid NOT NULL,
    xpanseassetsmdl_id uuid NOT NULL
);


ALTER TABLE public.xpanse_alerts_mdl_assets OWNER TO dmz_mdl;

--
-- Name: xpanse_alerts_mdl_assets_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.xpanse_alerts_mdl_assets ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.xpanse_alerts_mdl_assets_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: xpanse_alerts_mdl_business_units; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.xpanse_alerts_mdl_business_units (
    id bigint NOT NULL,
    xpansealerts_id uuid NOT NULL,
    xpansebusinessunits_id uuid NOT NULL
);


ALTER TABLE public.xpanse_alerts_mdl_business_units OWNER TO dmz_mdl;

--
-- Name: xpanse_alerts_mdl_business_units_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.xpanse_alerts_mdl_business_units ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.xpanse_alerts_mdl_business_units_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: xpanse_alerts_mdl_services; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.xpanse_alerts_mdl_services (
    id bigint NOT NULL,
    xpansealerts_id uuid NOT NULL,
    xpanseservicesmdl_id uuid NOT NULL
);


ALTER TABLE public.xpanse_alerts_mdl_services OWNER TO dmz_mdl;

--
-- Name: xpanse_alerts_mdl_services_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.xpanse_alerts_mdl_services ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.xpanse_alerts_mdl_services_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: xpanse_assets_mdl; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.xpanse_assets_mdl (
    xpanse_asset_uid uuid NOT NULL,
    asm_id text NOT NULL,
    asset_name text,
    asset_type text,
    last_observed timestamp with time zone,
    first_observed timestamp with time zone,
    externally_detected_providers text[],
    created timestamp with time zone,
    ips text[],
    active_external_services_types text[],
    domain text,
    certificate_issuer text,
    certificate_algorithm text,
    certificate_classifications text[],
    resolves boolean,
    top_level_asset_mapper_domain text,
    domain_asset_type jsonb,
    is_paid_level_domain boolean,
    domain_details jsonb,
    dns_zone text,
    latest_sampled_ip integer,
    recent_ips jsonb,
    external_services jsonb,
    externally_inferred_vulnerability_score numeric(5,2),
    externally_inferred_cves text[],
    explainers text[],
    tags text[]
);


ALTER TABLE public.xpanse_assets_mdl OWNER TO dmz_mdl;

--
-- Name: xpanse_business_units; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.xpanse_business_units (
    xpanse_business_unit_uid uuid NOT NULL,
    entity_name text,
    state text,
    county text,
    city text,
    sector text,
    entity_type text,
    region text,
    rating integer,
    cyhy_db_name character varying(255)
);


ALTER TABLE public.xpanse_business_units OWNER TO dmz_mdl;

--
-- Name: xpanse_cve_services_mdl; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.xpanse_cve_services_mdl (
    id bigint NOT NULL,
    inferred_cve_match_type text,
    product text,
    confidence text,
    vendor text,
    version_number text,
    activity_status text,
    first_observed timestamp with time zone,
    last_observed timestamp with time zone,
    xpanse_inferred_cve_id uuid NOT NULL,
    xpanse_service_id uuid NOT NULL
);


ALTER TABLE public.xpanse_cve_services_mdl OWNER TO dmz_mdl;

--
-- Name: xpanse_cve_services_mdl_id_seq; Type: SEQUENCE; Schema: public; Owner: dmz_mdl
--

ALTER TABLE public.xpanse_cve_services_mdl ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.xpanse_cve_services_mdl_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: xpanse_cves_mdl; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.xpanse_cves_mdl (
    xpanse_cve_uid uuid NOT NULL,
    cve_id text,
    cvss_score_v2 numeric(5,2),
    cve_severity_v2 text,
    cvss_score_v3 numeric(5,2),
    cve_severity_v3 text
);


ALTER TABLE public.xpanse_cves_mdl OWNER TO dmz_mdl;

--
-- Name: xpanse_services_mdl; Type: TABLE; Schema: public; Owner: dmz_mdl
--

CREATE TABLE public.xpanse_services_mdl (
    xpanse_service_uid uuid NOT NULL,
    service_id text,
    service_name text,
    service_type text,
    ip_address text[],
    domain text[],
    externally_detected_providers text[],
    is_active text,
    first_observed timestamp with time zone,
    last_observed timestamp with time zone,
    port integer,
    protocol text,
    active_classifications text[],
    inactive_classifications text[],
    discovery_type text,
    externally_inferred_vulnerability_score numeric(5,2),
    externally_inferred_cves text[],
    service_key text,
    service_key_type text
);


ALTER TABLE public.xpanse_services_mdl OWNER TO dmz_mdl;

--
-- Name: alembic_version alembic_version_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.alembic_version
    ADD CONSTRAINT alembic_version_pkey PRIMARY KEY (version_num);


--
-- Name: alias alias_alias_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.alias
    ADD CONSTRAINT alias_alias_key UNIQUE (alias);


--
-- Name: alias alias_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.alias
    ADD CONSTRAINT alias_pkey PRIMARY KEY (alias_uid);


--
-- Name: api_key api_key_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.api_key
    ADD CONSTRAINT api_key_pkey PRIMARY KEY (id);


--
-- Name: asset_headers asset_headers_organization_uid_sub_url_8d9a71c3_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.asset_headers
    ADD CONSTRAINT asset_headers_organization_uid_sub_url_8d9a71c3_uniq UNIQUE (organization_uid, sub_url);


--
-- Name: asset_headers asset_headers_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.asset_headers
    ADD CONSTRAINT asset_headers_pkey PRIMARY KEY (_id);


--
-- Name: cidr cidr_network_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cidr
    ADD CONSTRAINT cidr_network_key UNIQUE (network);


--
-- Name: cidr_organizations cidr_organizations_cidr_id_organization_id_e948710c_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cidr_organizations
    ADD CONSTRAINT cidr_organizations_cidr_id_organization_id_e948710c_uniq UNIQUE (cidr_id, organization_id);


--
-- Name: cidr_organizations cidr_organizations_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cidr_organizations
    ADD CONSTRAINT cidr_organizations_pkey PRIMARY KEY (id);


--
-- Name: cidr cidr_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cidr
    ADD CONSTRAINT cidr_pkey PRIMARY KEY (id);


--
-- Name: cpe cpe_name_version_vendor_a54bda44_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cpe
    ADD CONSTRAINT cpe_name_version_vendor_a54bda44_uniq UNIQUE (name, version, vendor);


--
-- Name: cpe cpe_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cpe
    ADD CONSTRAINT cpe_pkey PRIMARY KEY (id);


--
-- Name: cpe_product_mdl cpe_product_mdl_cpe_product_name_version_number_f8bf94e4_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cpe_product_mdl
    ADD CONSTRAINT cpe_product_mdl_cpe_product_name_version_number_f8bf94e4_uniq UNIQUE (cpe_product_name, version_number);


--
-- Name: cpe_product_mdl_cves cpe_product_mdl_cves_cpeproduct_id_cve_id_521ae991_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cpe_product_mdl_cves
    ADD CONSTRAINT cpe_product_mdl_cves_cpeproduct_id_cve_id_521ae991_uniq UNIQUE (cpeproduct_id, cve_id);


--
-- Name: cpe_product_mdl_cves cpe_product_mdl_cves_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cpe_product_mdl_cves
    ADD CONSTRAINT cpe_product_mdl_cves_pkey PRIMARY KEY (id);


--
-- Name: cpe_product_mdl cpe_product_mdl_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cpe_product_mdl
    ADD CONSTRAINT cpe_product_mdl_pkey PRIMARY KEY (cpe_product_uid);


--
-- Name: cpe_vender cpe_vender_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cpe_vender
    ADD CONSTRAINT cpe_vender_pkey PRIMARY KEY (cpe_vender_uid);


--
-- Name: cpe_vender cpe_vender_vender_name_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cpe_vender
    ADD CONSTRAINT cpe_vender_vender_name_key UNIQUE (vender_name);


--
-- Name: credential_breaches credential_breaches_breach_name_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.credential_breaches
    ADD CONSTRAINT credential_breaches_breach_name_key UNIQUE (breach_name);


--
-- Name: credential_breaches credential_breaches_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.credential_breaches
    ADD CONSTRAINT credential_breaches_pkey PRIMARY KEY (credential_breaches_uid);


--
-- Name: credential_exposures credential_exposures_breach_name_email_33cf2058_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.credential_exposures
    ADD CONSTRAINT credential_exposures_breach_name_email_33cf2058_uniq UNIQUE (breach_name, email);


--
-- Name: credential_exposures credential_exposures_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.credential_exposures
    ADD CONSTRAINT credential_exposures_pkey PRIMARY KEY (credential_exposures_uid);


--
-- Name: cve_cpes cve_cpes_cve_id_cpe_id_9833ab3e_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cve_cpes
    ADD CONSTRAINT cve_cpes_cve_id_cpe_id_9833ab3e_uniq UNIQUE (cve_id, cpe_id);


--
-- Name: cve_cpes cve_cpes_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cve_cpes
    ADD CONSTRAINT cve_cpes_pkey PRIMARY KEY (id);


--
-- Name: cve cve_name_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cve
    ADD CONSTRAINT cve_name_key UNIQUE (name);


--
-- Name: cve cve_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cve
    ADD CONSTRAINT cve_pkey PRIMARY KEY (id);


--
-- Name: cyhy_contacts cyhy_contacts_org_id_contact_type_email_name_92b85c52_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cyhy_contacts
    ADD CONSTRAINT cyhy_contacts_org_id_contact_type_email_name_92b85c52_uniq UNIQUE (org_id, contact_type, email, name);


--
-- Name: cyhy_contacts cyhy_contacts_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cyhy_contacts
    ADD CONSTRAINT cyhy_contacts_pkey PRIMARY KEY (_id);


--
-- Name: cyhy_db_assets cyhy_db_assets_org_id_network_4642b081_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cyhy_db_assets
    ADD CONSTRAINT cyhy_db_assets_org_id_network_4642b081_uniq UNIQUE (org_id, network);


--
-- Name: cyhy_db_assets cyhy_db_assets_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cyhy_db_assets
    ADD CONSTRAINT cyhy_db_assets_pkey PRIMARY KEY (_id);


--
-- Name: cyhy_kevs cyhy_kevs_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cyhy_kevs
    ADD CONSTRAINT cyhy_kevs_pkey PRIMARY KEY (cyhy_kevs_uid);


--
-- Name: data_source data_source_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.data_source
    ADD CONSTRAINT data_source_pkey PRIMARY KEY (data_source_uid);


--
-- Name: django_migrations django_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.django_migrations
    ADD CONSTRAINT django_migrations_pkey PRIMARY KEY (id);


--
-- Name: dns_records dns_records_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.dns_records
    ADD CONSTRAINT dns_records_pkey PRIMARY KEY (dns_record_uid);


--
-- Name: domain_alerts domain_alerts_alert_type_sub_domain_ui_cfa006d2_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.domain_alerts
    ADD CONSTRAINT domain_alerts_alert_type_sub_domain_ui_cfa006d2_uniq UNIQUE (alert_type, sub_domain_uid, date, new_value);


--
-- Name: domain_alerts domain_alerts_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.domain_alerts
    ADD CONSTRAINT domain_alerts_pkey PRIMARY KEY (domain_alert_uid);


--
-- Name: domain_permutations domain_permutations_domain_permutation_organ_15048e3e_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.domain_permutations
    ADD CONSTRAINT domain_permutations_domain_permutation_organ_15048e3e_uniq UNIQUE (domain_permutation, organization_uid);


--
-- Name: domain_permutations domain_permutations_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.domain_permutations
    ADD CONSTRAINT domain_permutations_pkey PRIMARY KEY (suspected_domain_uid);


--
-- Name: dotgov_domains dotgov_domains_domain_name_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.dotgov_domains
    ADD CONSTRAINT dotgov_domains_domain_name_key UNIQUE (domain_name);


--
-- Name: dotgov_domains dotgov_domains_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.dotgov_domains
    ADD CONSTRAINT dotgov_domains_pkey PRIMARY KEY (dotgov_uid);


--
-- Name: executives executives_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.executives
    ADD CONSTRAINT executives_pkey PRIMARY KEY (executives_uid);


--
-- Name: host host_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.host
    ADD CONSTRAINT host_pkey PRIMARY KEY (id);


--
-- Name: ip ip_ip_organization_id_61503db1_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ip
    ADD CONSTRAINT ip_ip_organization_id_61503db1_uniq UNIQUE (ip, organization_id);


--
-- Name: ip ip_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ip
    ADD CONSTRAINT ip_pkey PRIMARY KEY (ip_hash);


--
-- Name: ip_sub_domains ip_sub_domains_ip_id_subdomains_id_94d06e84_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ip_sub_domains
    ADD CONSTRAINT ip_sub_domains_ip_id_subdomains_id_94d06e84_uniq UNIQUE (ip_id, subdomains_id);


--
-- Name: ip_sub_domains ip_sub_domains_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ip_sub_domains
    ADD CONSTRAINT ip_sub_domains_pkey PRIMARY KEY (id);


--
-- Name: location location_gnis_id_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.location
    ADD CONSTRAINT location_gnis_id_key UNIQUE (gnis_id);


--
-- Name: location location_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.location
    ADD CONSTRAINT location_pkey PRIMARY KEY (id);


--
-- Name: mentions mentions_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.mentions
    ADD CONSTRAINT mentions_pkey PRIMARY KEY (mentions_uid);


--
-- Name: mentions mentions_sixgill_mention_id_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.mentions
    ADD CONSTRAINT mentions_sixgill_mention_id_key UNIQUE (sixgill_mention_id);


--
-- Name: notification notification_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.notification
    ADD CONSTRAINT notification_pkey PRIMARY KEY (id);


--
-- Name: org_id_map org_id_map_cyhy_id_pe_org_id_b580d6d5_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.org_id_map
    ADD CONSTRAINT org_id_map_cyhy_id_pe_org_id_b580d6d5_uniq UNIQUE (cyhy_id, pe_org_id);


--
-- Name: org_id_map org_id_map_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.org_id_map
    ADD CONSTRAINT org_id_map_pkey PRIMARY KEY (id);


--
-- Name: org_type org_type_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.org_type
    ADD CONSTRAINT org_type_pkey PRIMARY KEY (org_type_uid);


--
-- Name: organization organization_acronym_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization
    ADD CONSTRAINT organization_acronym_key UNIQUE (acronym);


--
-- Name: organization organization_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization
    ADD CONSTRAINT organization_pkey PRIMARY KEY (id);


--
-- Name: organization_tag organization_tag_name_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization_tag
    ADD CONSTRAINT organization_tag_name_key UNIQUE (name);


--
-- Name: organization_tag_organization organization_tag_organiz_organizationtag_id_organ_80ba4ec6_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization_tag_organization
    ADD CONSTRAINT organization_tag_organiz_organizationtag_id_organ_80ba4ec6_uniq UNIQUE (organizationtag_id, organization_id);


--
-- Name: organization_tag_organization organization_tag_organization_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization_tag_organization
    ADD CONSTRAINT organization_tag_organization_pkey PRIMARY KEY (id);


--
-- Name: organization_tag organization_tag_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization_tag
    ADD CONSTRAINT organization_tag_pkey PRIMARY KEY (id);


--
-- Name: pe_report_summary_stats pe_report_summary_stats_organization_uid_start_d_66dd3af0_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pe_report_summary_stats
    ADD CONSTRAINT pe_report_summary_stats_organization_uid_start_d_66dd3af0_uniq UNIQUE (organization_uid, start_date);


--
-- Name: pe_report_summary_stats pe_report_summary_stats_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pe_report_summary_stats
    ADD CONSTRAINT pe_report_summary_stats_pkey PRIMARY KEY (report_uid);


--
-- Name: pe_team_members pe_team_members_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pe_team_members
    ADD CONSTRAINT pe_team_members_pkey PRIMARY KEY (team_member_uid);


--
-- Name: pe_users pe_users_api_key_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pe_users
    ADD CONSTRAINT pe_users_api_key_key UNIQUE (api_key);


--
-- Name: pe_users pe_users_email_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pe_users
    ADD CONSTRAINT pe_users_email_key UNIQUE (email);


--
-- Name: pe_users pe_users_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pe_users
    ADD CONSTRAINT pe_users_pkey PRIMARY KEY (id);


--
-- Name: pe_users pe_users_username_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pe_users
    ADD CONSTRAINT pe_users_username_key UNIQUE (username);


--
-- Name: port_scan port_scan_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.port_scan
    ADD CONSTRAINT port_scan_pkey PRIMARY KEY (id);


--
-- Name: pshtt_results pshtt_results_organization_uid_sub_domain_81ce555c_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pshtt_results
    ADD CONSTRAINT pshtt_results_organization_uid_sub_domain_81ce555c_uniq UNIQUE (organization_uid, sub_domain);


--
-- Name: pshtt_results pshtt_results_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pshtt_results
    ADD CONSTRAINT pshtt_results_pkey PRIMARY KEY (pshtt_results_uid);


--
-- Name: query-result-cache query-result-cache_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public."query-result-cache"
    ADD CONSTRAINT "query-result-cache_pkey" PRIMARY KEY (id);


--
-- Name: role role_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_pkey PRIMARY KEY (id);


--
-- Name: role role_user_id_organization_id_3c3ad6d7_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_user_id_organization_id_3c3ad6d7_uniq UNIQUE (user_id, organization_id);


--
-- Name: root_domains root_domains_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.root_domains
    ADD CONSTRAINT root_domains_pkey PRIMARY KEY (root_domain_uid);


--
-- Name: root_domains root_domains_root_domain_organization_uid_bf1e861d_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.root_domains
    ADD CONSTRAINT root_domains_root_domain_organization_uid_bf1e861d_uniq UNIQUE (root_domain, organization_uid);


--
-- Name: saved_search saved_search_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.saved_search
    ADD CONSTRAINT saved_search_pkey PRIMARY KEY (id);


--
-- Name: scan_organization_tags scan_organization_tags_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_organization_tags
    ADD CONSTRAINT scan_organization_tags_pkey PRIMARY KEY (id);


--
-- Name: scan_organization_tags scan_organization_tags_scan_id_organizationtag_id_593ecf52_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_organization_tags
    ADD CONSTRAINT scan_organization_tags_scan_id_organizationtag_id_593ecf52_uniq UNIQUE (scan_id, organizationtag_id);


--
-- Name: scan_organizations scan_organizations_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_organizations
    ADD CONSTRAINT scan_organizations_pkey PRIMARY KEY (id);


--
-- Name: scan_organizations scan_organizations_scan_id_organization_id_fed32cfc_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_organizations
    ADD CONSTRAINT scan_organizations_scan_id_organization_id_fed32cfc_uniq UNIQUE (scan_id, organization_id);


--
-- Name: scan scan_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan
    ADD CONSTRAINT scan_pkey PRIMARY KEY (id);


--
-- Name: scan_task_organization_tags scan_task_organization_t_scantask_id_organization_8ceb48da_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_task_organization_tags
    ADD CONSTRAINT scan_task_organization_t_scantask_id_organization_8ceb48da_uniq UNIQUE (scantask_id, organizationtag_id);


--
-- Name: scan_task_organization_tags scan_task_organization_tags_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_task_organization_tags
    ADD CONSTRAINT scan_task_organization_tags_pkey PRIMARY KEY (id);


--
-- Name: scan_task scan_task_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_task
    ADD CONSTRAINT scan_task_pkey PRIMARY KEY (id);


--
-- Name: sector sector_acronym_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sector
    ADD CONSTRAINT sector_acronym_key UNIQUE (acronym);


--
-- Name: sector_organizations sector_organizations_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sector_organizations
    ADD CONSTRAINT sector_organizations_pkey PRIMARY KEY (id);


--
-- Name: sector_organizations sector_organizations_sector_id_organization_id_c9a51e0f_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sector_organizations
    ADD CONSTRAINT sector_organizations_sector_id_organization_id_c9a51e0f_uniq UNIQUE (sector_id, organization_id);


--
-- Name: sector sector_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sector
    ADD CONSTRAINT sector_pkey PRIMARY KEY (id);


--
-- Name: service service_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.service
    ADD CONSTRAINT service_pkey PRIMARY KEY (id);


--
-- Name: service service_port_domain_id_e8df5226_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.service
    ADD CONSTRAINT service_port_domain_id_e8df5226_uniq UNIQUE (port, domain_id);


--
-- Name: shodan_assets shodan_assets_organization_uid_ip_port_89ec08ba_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.shodan_assets
    ADD CONSTRAINT shodan_assets_organization_uid_ip_port_89ec08ba_uniq UNIQUE (organization_uid, ip, port, protocol, "timestamp");


--
-- Name: shodan_assets shodan_assets_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.shodan_assets
    ADD CONSTRAINT shodan_assets_pkey PRIMARY KEY (shodan_asset_uid);


--
-- Name: shodan_vulns shodan_vulns_organization_uid_ip_port_f9b33bbc_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.shodan_vulns
    ADD CONSTRAINT shodan_vulns_organization_uid_ip_port_f9b33bbc_uniq UNIQUE (organization_uid, ip, port, protocol, "timestamp");


--
-- Name: shodan_vulns shodan_vulns_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.shodan_vulns
    ADD CONSTRAINT shodan_vulns_pkey PRIMARY KEY (shodan_vuln_uid);


--
-- Name: sixgill_alerts sixgill_alerts_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sixgill_alerts
    ADD CONSTRAINT sixgill_alerts_pkey PRIMARY KEY (alerts_uid);


--
-- Name: sixgill_alerts sixgill_alerts_sixgill_id_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sixgill_alerts
    ADD CONSTRAINT sixgill_alerts_sixgill_id_key UNIQUE (sixgill_id);


--
-- Name: sub_domains sub_domains_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sub_domains
    ADD CONSTRAINT sub_domains_pkey PRIMARY KEY (sub_domain_uid);


--
-- Name: sub_domains sub_domains_sub_domain_root_domain_uid_ee500437_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sub_domains
    ADD CONSTRAINT sub_domains_sub_domain_root_domain_uid_ee500437_uniq UNIQUE (sub_domain, root_domain_uid);


--
-- Name: ticket_event ticket_event_event_timestamp_ticket_id_action_d1d6974d_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ticket_event
    ADD CONSTRAINT ticket_event_event_timestamp_ticket_id_action_d1d6974d_uniq UNIQUE (event_timestamp, ticket_id, action);


--
-- Name: ticket_event ticket_event_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ticket_event
    ADD CONSTRAINT ticket_event_pkey PRIMARY KEY (id);


--
-- Name: ticket ticket_id_1f17c5d6_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_id_1f17c5d6_uniq UNIQUE (id);


--
-- Name: ticket ticket_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_pkey PRIMARY KEY (id);


--
-- Name: top_cves top_cves_cve_id_date_7fa6a474_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.top_cves
    ADD CONSTRAINT top_cves_cve_id_date_7fa6a474_uniq UNIQUE (cve_id, date);


--
-- Name: top_cves top_cves_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.top_cves
    ADD CONSTRAINT top_cves_pkey PRIMARY KEY (top_cves_uid);


--
-- Name: topic_totals topic_totals_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.topic_totals
    ADD CONSTRAINT topic_totals_pkey PRIMARY KEY (count_uuid);


--
-- Name: unique_software unique_software_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.unique_software
    ADD CONSTRAINT unique_software_pkey PRIMARY KEY (_id);


--
-- Name: user user_cognitoId_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT "user_cognitoId_key" UNIQUE ("cognitoId");


--
-- Name: user user_email_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_email_key UNIQUE (email);


--
-- Name: user user_login_gov_id_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_login_gov_id_key UNIQUE (login_gov_id);


--
-- Name: user user_okta_id_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_okta_id_key UNIQUE (okta_id);


--
-- Name: user user_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: vuln_scan vuln_scan_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.vuln_scan
    ADD CONSTRAINT vuln_scan_pkey PRIMARY KEY (id);


--
-- Name: vulnerability vulnerability_domain_id_title_9d86fe67_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.vulnerability
    ADD CONSTRAINT vulnerability_domain_id_title_9d86fe67_uniq UNIQUE (domain_id, title);


--
-- Name: vulnerability vulnerability_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.vulnerability
    ADD CONSTRAINT vulnerability_pkey PRIMARY KEY (id);


--
-- Name: was_findings was_findings_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.was_findings
    ADD CONSTRAINT was_findings_pkey PRIMARY KEY (finding_uid);


--
-- Name: was_history was_history_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.was_history
    ADD CONSTRAINT was_history_pkey PRIMARY KEY (id);


--
-- Name: was_history was_history_was_org_id_date_scanned_8cf982b2_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.was_history
    ADD CONSTRAINT was_history_was_org_id_date_scanned_8cf982b2_uniq UNIQUE (was_org_id, date_scanned);


--
-- Name: was_map was_map_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.was_map
    ADD CONSTRAINT was_map_pkey PRIMARY KEY (was_org_id);


--
-- Name: was_report was_report_last_scan_date_org_was_acronym_5e5468bb_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.was_report
    ADD CONSTRAINT was_report_last_scan_date_org_was_acronym_5e5468bb_uniq UNIQUE (last_scan_date, org_was_acronym);


--
-- Name: was_report was_report_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.was_report
    ADD CONSTRAINT was_report_pkey PRIMARY KEY (id);


--
-- Name: was_tracker_customer_data was_tracker_customer_data_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.was_tracker_customer_data
    ADD CONSTRAINT was_tracker_customer_data_pkey PRIMARY KEY (customer_id);


--
-- Name: web_assets web_assets_asset_organization_uid_ed3b9b8a_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.web_assets
    ADD CONSTRAINT web_assets_asset_organization_uid_ed3b9b8a_uniq UNIQUE (asset, organization_uid);


--
-- Name: web_assets web_assets_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.web_assets
    ADD CONSTRAINT web_assets_pkey PRIMARY KEY (asset_uid);


--
-- Name: webpage webpage_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.webpage
    ADD CONSTRAINT webpage_pkey PRIMARY KEY (id);


--
-- Name: webpage webpage_url_domain_id_81a87e5f_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.webpage
    ADD CONSTRAINT webpage_url_domain_id_81a87e5f_uniq UNIQUE (url, domain_id);


--
-- Name: weekly_statuses_mdl weekly_statuses_mdl_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.weekly_statuses_mdl
    ADD CONSTRAINT weekly_statuses_mdl_pkey PRIMARY KEY (weekly_status_uid);


--
-- Name: xpanse_alerts_mdl xpanse_alerts_mdl_alert_id_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl
    ADD CONSTRAINT xpanse_alerts_mdl_alert_id_key UNIQUE (alert_id);


--
-- Name: xpanse_alerts_mdl_assets xpanse_alerts_mdl_assets_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_assets
    ADD CONSTRAINT xpanse_alerts_mdl_assets_pkey PRIMARY KEY (id);


--
-- Name: xpanse_alerts_mdl_assets xpanse_alerts_mdl_assets_xpansealerts_id_xpanseas_b0e56dc1_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_assets
    ADD CONSTRAINT xpanse_alerts_mdl_assets_xpansealerts_id_xpanseas_b0e56dc1_uniq UNIQUE (xpansealerts_id, xpanseassetsmdl_id);


--
-- Name: xpanse_alerts_mdl_business_units xpanse_alerts_mdl_busine_xpansealerts_id_xpansebu_8d3090a9_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_business_units
    ADD CONSTRAINT xpanse_alerts_mdl_busine_xpansealerts_id_xpansebu_8d3090a9_uniq UNIQUE (xpansealerts_id, xpansebusinessunits_id);


--
-- Name: xpanse_alerts_mdl_business_units xpanse_alerts_mdl_business_units_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_business_units
    ADD CONSTRAINT xpanse_alerts_mdl_business_units_pkey PRIMARY KEY (id);


--
-- Name: xpanse_alerts_mdl xpanse_alerts_mdl_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl
    ADD CONSTRAINT xpanse_alerts_mdl_pkey PRIMARY KEY (xpanse_alert_uid);


--
-- Name: xpanse_alerts_mdl_services xpanse_alerts_mdl_servic_xpansealerts_id_xpansese_03c93d63_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_services
    ADD CONSTRAINT xpanse_alerts_mdl_servic_xpansealerts_id_xpansese_03c93d63_uniq UNIQUE (xpansealerts_id, xpanseservicesmdl_id);


--
-- Name: xpanse_alerts_mdl_services xpanse_alerts_mdl_services_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_services
    ADD CONSTRAINT xpanse_alerts_mdl_services_pkey PRIMARY KEY (id);


--
-- Name: xpanse_assets_mdl xpanse_assets_mdl_asm_id_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_assets_mdl
    ADD CONSTRAINT xpanse_assets_mdl_asm_id_key UNIQUE (asm_id);


--
-- Name: xpanse_assets_mdl xpanse_assets_mdl_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_assets_mdl
    ADD CONSTRAINT xpanse_assets_mdl_pkey PRIMARY KEY (xpanse_asset_uid);


--
-- Name: xpanse_business_units xpanse_business_units_entity_name_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_business_units
    ADD CONSTRAINT xpanse_business_units_entity_name_key UNIQUE (entity_name);


--
-- Name: xpanse_business_units xpanse_business_units_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_business_units
    ADD CONSTRAINT xpanse_business_units_pkey PRIMARY KEY (xpanse_business_unit_uid);


--
-- Name: xpanse_cve_services_mdl xpanse_cve_services_mdl_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_cve_services_mdl
    ADD CONSTRAINT xpanse_cve_services_mdl_pkey PRIMARY KEY (id);


--
-- Name: xpanse_cve_services_mdl xpanse_cve_services_mdl_xpanse_inferred_cve_id_x_99a754b9_uniq; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_cve_services_mdl
    ADD CONSTRAINT xpanse_cve_services_mdl_xpanse_inferred_cve_id_x_99a754b9_uniq UNIQUE (xpanse_inferred_cve_id, xpanse_service_id);


--
-- Name: xpanse_cves_mdl xpanse_cves_mdl_cve_id_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_cves_mdl
    ADD CONSTRAINT xpanse_cves_mdl_cve_id_key UNIQUE (cve_id);


--
-- Name: xpanse_cves_mdl xpanse_cves_mdl_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_cves_mdl
    ADD CONSTRAINT xpanse_cves_mdl_pkey PRIMARY KEY (xpanse_cve_uid);


--
-- Name: xpanse_services_mdl xpanse_services_mdl_pkey; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_services_mdl
    ADD CONSTRAINT xpanse_services_mdl_pkey PRIMARY KEY (xpanse_service_uid);


--
-- Name: xpanse_services_mdl xpanse_services_mdl_service_id_key; Type: CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_services_mdl
    ADD CONSTRAINT xpanse_services_mdl_service_id_key UNIQUE (service_id);


--
-- Name: alembic_version_version_num_2efbf876_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX alembic_version_version_num_2efbf876_like ON public.alembic_version USING btree (version_num varchar_pattern_ops);


--
-- Name: alias_alias_e67d6c6e_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX alias_alias_e67d6c6e_like ON public.alias USING btree (alias text_pattern_ops);


--
-- Name: alias_organization_uid_bcc2cdb9; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX alias_organization_uid_bcc2cdb9 ON public.alias USING btree (organization_uid);


--
-- Name: api_key_user_id_2b8305f7; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX api_key_user_id_2b8305f7 ON public.api_key USING btree (user_id);


--
-- Name: asset_headers_organization_uid_150c5556; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX asset_headers_organization_uid_150c5556 ON public.asset_headers USING btree (organization_uid);


--
-- Name: cidr_data_source_uid_e814595d; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cidr_data_source_uid_e814595d ON public.cidr USING btree (data_source_uid);


--
-- Name: cidr_network_83f1f4_idx; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cidr_network_83f1f4_idx ON public.cidr USING btree (network);


--
-- Name: cidr_organizations_cidr_id_44bd1393; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cidr_organizations_cidr_id_44bd1393 ON public.cidr_organizations USING btree (cidr_id);


--
-- Name: cidr_organizations_organization_id_8ec1184d; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cidr_organizations_organization_id_8ec1184d ON public.cidr_organizations USING btree (organization_id);


--
-- Name: cpe_product_mdl_cpe_vender_uid_5449d117; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cpe_product_mdl_cpe_vender_uid_5449d117 ON public.cpe_product_mdl USING btree (cpe_vender_uid);


--
-- Name: cpe_product_mdl_cves_cpeproduct_id_6f13cbdc; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cpe_product_mdl_cves_cpeproduct_id_6f13cbdc ON public.cpe_product_mdl_cves USING btree (cpeproduct_id);


--
-- Name: cpe_product_mdl_cves_cve_id_04b27219; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cpe_product_mdl_cves_cve_id_04b27219 ON public.cpe_product_mdl_cves USING btree (cve_id);


--
-- Name: cpe_vender_vender_name_b222af88_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cpe_vender_vender_name_b222af88_like ON public.cpe_vender USING btree (vender_name text_pattern_ops);


--
-- Name: credential_breaches_breach_name_abddd57e_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX credential_breaches_breach_name_abddd57e_like ON public.credential_breaches USING btree (breach_name text_pattern_ops);


--
-- Name: credential_breaches_data_source_uid_04e85c76; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX credential_breaches_data_source_uid_04e85c76 ON public.credential_breaches USING btree (data_source_uid);


--
-- Name: credential_exposures_credential_breaches_uid_3b485b9f; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX credential_exposures_credential_breaches_uid_3b485b9f ON public.credential_exposures USING btree (credential_breaches_uid);


--
-- Name: credential_exposures_data_source_uid_8fde1968; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX credential_exposures_data_source_uid_8fde1968 ON public.credential_exposures USING btree (data_source_uid);


--
-- Name: credential_exposures_organization_uid_12543cf9; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX credential_exposures_organization_uid_12543cf9 ON public.credential_exposures USING btree (organization_uid);


--
-- Name: cve_cpes_cpe_id_4f94803a; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cve_cpes_cpe_id_4f94803a ON public.cve_cpes USING btree (cpe_id);


--
-- Name: cve_cpes_cve_id_bd26db06; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cve_cpes_cve_id_bd26db06 ON public.cve_cpes USING btree (cve_id);


--
-- Name: cve_name_80440c84_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cve_name_80440c84_like ON public.cve USING btree (name varchar_pattern_ops);


--
-- Name: cyhy_contacts_organization_uid_fb9c5353; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cyhy_contacts_organization_uid_fb9c5353 ON public.cyhy_contacts USING btree (organization_uid);


--
-- Name: cyhy_db_assets_organization_uid_b2101a79; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX cyhy_db_assets_organization_uid_b2101a79 ON public.cyhy_db_assets USING btree (organization_uid);


--
-- Name: domain_alerts_data_source_uid_a82a17ac; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX domain_alerts_data_source_uid_a82a17ac ON public.domain_alerts USING btree (data_source_uid);


--
-- Name: domain_alerts_sub_domain_uid_dbf29a19; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX domain_alerts_sub_domain_uid_dbf29a19 ON public.domain_alerts USING btree (sub_domain_uid);


--
-- Name: domain_permutations_data_source_uid_da400900; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX domain_permutations_data_source_uid_da400900 ON public.domain_permutations USING btree (data_source_uid);


--
-- Name: domain_permutations_organization_uid_fdfc372d; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX domain_permutations_organization_uid_fdfc372d ON public.domain_permutations USING btree (organization_uid);


--
-- Name: domain_permutations_sub_domain_uid_a236d3ba; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX domain_permutations_sub_domain_uid_a236d3ba ON public.domain_permutations USING btree (sub_domain_uid);


--
-- Name: dotgov_domains_domain_name_3e4b1316_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX dotgov_domains_domain_name_3e4b1316_like ON public.dotgov_domains USING btree (domain_name text_pattern_ops);


--
-- Name: executives_organization_b9920fa6; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX executives_organization_b9920fa6 ON public.executives USING btree (organization);


--
-- Name: host_id_916e03f4_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX host_id_916e03f4_like ON public.host USING btree (id varchar_pattern_ops);


--
-- Name: host_ip_id_ef54cba9; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX host_ip_id_ef54cba9 ON public.host USING btree (ip_id);


--
-- Name: host_ip_id_ef54cba9_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX host_ip_id_ef54cba9_like ON public.host USING btree (ip_id text_pattern_ops);


--
-- Name: host_ip_stri_b105ae_idx; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX host_ip_stri_b105ae_idx ON public.host USING btree (ip_string);


--
-- Name: host_organization_id_fbf51ac7; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX host_organization_id_fbf51ac7 ON public.host USING btree (organization_id);


--
-- Name: ip_ip_d6689a_idx; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ip_ip_d6689a_idx ON public.ip USING btree (ip, organization_id);


--
-- Name: ip_ip_hash_6a25c4fc_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ip_ip_hash_6a25c4fc_like ON public.ip USING btree (ip_hash text_pattern_ops);


--
-- Name: ip_organization_id_241abc40; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ip_organization_id_241abc40 ON public.ip USING btree (organization_id);


--
-- Name: ip_origin_cidr_f9b724e9; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ip_origin_cidr_f9b724e9 ON public.ip USING btree (origin_cidr);


--
-- Name: ip_sub_domains_ip_id_079f6ccb; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ip_sub_domains_ip_id_079f6ccb ON public.ip_sub_domains USING btree (ip_id);


--
-- Name: ip_sub_domains_ip_id_079f6ccb_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ip_sub_domains_ip_id_079f6ccb_like ON public.ip_sub_domains USING btree (ip_id text_pattern_ops);


--
-- Name: ip_sub_domains_subdomains_id_681ba276; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ip_sub_domains_subdomains_id_681ba276 ON public.ip_sub_domains USING btree (subdomains_id);


--
-- Name: location_gnis_id_845f5b_idx; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX location_gnis_id_845f5b_idx ON public.location USING btree (gnis_id);


--
-- Name: location_gnis_id_f0601589_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX location_gnis_id_f0601589_like ON public.location USING btree (gnis_id varchar_pattern_ops);


--
-- Name: mentions_data_source_uid_5c5f8bf8; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX mentions_data_source_uid_5c5f8bf8 ON public.mentions USING btree (data_source_uid);


--
-- Name: mentions_organization_uid_b7fececb; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX mentions_organization_uid_b7fececb ON public.mentions USING btree (organization_uid);


--
-- Name: mentions_sixgill_mention_id_fad7df53_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX mentions_sixgill_mention_id_fad7df53_like ON public.mentions USING btree (sixgill_mention_id text_pattern_ops);


--
-- Name: organization_acronym_97d5f7cb_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX organization_acronym_97d5f7cb_like ON public.organization USING btree (acronym varchar_pattern_ops);


--
-- Name: organization_created_by_id_35551e36; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX organization_created_by_id_35551e36 ON public.organization USING btree (created_by_id);


--
-- Name: organization_location_id_067f8a89; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX organization_location_id_067f8a89 ON public.organization USING btree (location_id);


--
-- Name: organization_org_type_id_9d510ee1; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX organization_org_type_id_9d510ee1 ON public.organization USING btree (org_type_id);


--
-- Name: organization_parent_id_981c8191; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX organization_parent_id_981c8191 ON public.organization USING btree (parent_id);


--
-- Name: organization_tag_name_7322d41a_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX organization_tag_name_7322d41a_like ON public.organization_tag USING btree (name varchar_pattern_ops);


--
-- Name: organization_tag_organization_organization_id_dcb828c9; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX organization_tag_organization_organization_id_dcb828c9 ON public.organization_tag_organization USING btree (organization_id);


--
-- Name: organization_tag_organization_organizationtag_id_2a848187; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX organization_tag_organization_organizationtag_id_2a848187 ON public.organization_tag_organization USING btree (organizationtag_id);


--
-- Name: pe_report_summary_stats_organization_uid_7704a098; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX pe_report_summary_stats_organization_uid_7704a098 ON public.pe_report_summary_stats USING btree (organization_uid);


--
-- Name: pe_users_api_key_82aa3c4a_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX pe_users_api_key_82aa3c4a_like ON public.pe_users USING btree (api_key varchar_pattern_ops);


--
-- Name: pe_users_email_6df55e0f_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX pe_users_email_6df55e0f_like ON public.pe_users USING btree (email varchar_pattern_ops);


--
-- Name: pe_users_username_f4890452_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX pe_users_username_f4890452_like ON public.pe_users USING btree (username varchar_pattern_ops);


--
-- Name: port_scan_id_8962dfc6_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX port_scan_id_8962dfc6_like ON public.port_scan USING btree (id varchar_pattern_ops);


--
-- Name: port_scan_ip_id_5ac3d203; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX port_scan_ip_id_5ac3d203 ON public.port_scan USING btree (ip_id);


--
-- Name: port_scan_ip_id_5ac3d203_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX port_scan_ip_id_5ac3d203_like ON public.port_scan USING btree (ip_id text_pattern_ops);


--
-- Name: port_scan_organization_id_7a457e61; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX port_scan_organization_id_7a457e61 ON public.port_scan USING btree (organization_id);


--
-- Name: pshtt_results_data_source_uid_59849107; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX pshtt_results_data_source_uid_59849107 ON public.pshtt_results USING btree (data_source_uid);


--
-- Name: pshtt_results_organization_uid_58ebe095; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX pshtt_results_organization_uid_58ebe095 ON public.pshtt_results USING btree (organization_uid);


--
-- Name: role_approved_by_id_27a41bea; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX role_approved_by_id_27a41bea ON public.role USING btree (approved_by_id);


--
-- Name: role_created_by_id_bffd5752; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX role_created_by_id_bffd5752 ON public.role USING btree (created_by_id);


--
-- Name: role_organization_id_d00f912a; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX role_organization_id_d00f912a ON public.role USING btree (organization_id);


--
-- Name: role_user_id_8cace677; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX role_user_id_8cace677 ON public.role USING btree (user_id);


--
-- Name: root_domains_data_source_uid_890b0a7e; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX root_domains_data_source_uid_890b0a7e ON public.root_domains USING btree (data_source_uid);


--
-- Name: root_domains_organization_uid_c75c3a9f; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX root_domains_organization_uid_c75c3a9f ON public.root_domains USING btree (organization_uid);


--
-- Name: saved_search_created_by_id_f29cf571; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX saved_search_created_by_id_f29cf571 ON public.saved_search USING btree (created_by_id);


--
-- Name: scan_created_by_e45cf6fe; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX scan_created_by_e45cf6fe ON public.scan USING btree (created_by);


--
-- Name: scan_organization_tags_organizationtag_id_1beaa19c; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX scan_organization_tags_organizationtag_id_1beaa19c ON public.scan_organization_tags USING btree (organizationtag_id);


--
-- Name: scan_organization_tags_scan_id_6cc5e82b; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX scan_organization_tags_scan_id_6cc5e82b ON public.scan_organization_tags USING btree (scan_id);


--
-- Name: scan_organizations_organization_id_2e852548; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX scan_organizations_organization_id_2e852548 ON public.scan_organizations USING btree (organization_id);


--
-- Name: scan_organizations_scan_id_f6f0b182; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX scan_organizations_scan_id_f6f0b182 ON public.scan_organizations USING btree (scan_id);


--
-- Name: scan_task_organization_id_73d56e9e; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX scan_task_organization_id_73d56e9e ON public.scan_task USING btree (organization_id);


--
-- Name: scan_task_organization_tags_organizationtag_id_1aee59b1; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX scan_task_organization_tags_organizationtag_id_1aee59b1 ON public.scan_task_organization_tags USING btree (organizationtag_id);


--
-- Name: scan_task_organization_tags_scantask_id_187d7073; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX scan_task_organization_tags_scantask_id_187d7073 ON public.scan_task_organization_tags USING btree (scantask_id);


--
-- Name: scan_task_scan_id_be503edb; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX scan_task_scan_id_be503edb ON public.scan_task USING btree (scan_id);


--
-- Name: sector_acronym_34564b0a_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX sector_acronym_34564b0a_like ON public.sector USING btree (acronym varchar_pattern_ops);


--
-- Name: sector_acronym_fd7c14_idx; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX sector_acronym_fd7c14_idx ON public.sector USING btree (acronym);


--
-- Name: sector_organizations_organization_id_a28a5990; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX sector_organizations_organization_id_a28a5990 ON public.sector_organizations USING btree (organization_id);


--
-- Name: sector_organizations_sector_id_dc248e70; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX sector_organizations_sector_id_dc248e70 ON public.sector_organizations USING btree (sector_id);


--
-- Name: service_discovered_by_id_5b0c28e9; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX service_discovered_by_id_5b0c28e9 ON public.service USING btree (discovered_by_id);


--
-- Name: service_domain_id_ed507973; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX service_domain_id_ed507973 ON public.service USING btree (domain_id);


--
-- Name: shodan_assets_data_source_uid_acd993ab; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX shodan_assets_data_source_uid_acd993ab ON public.shodan_assets USING btree (data_source_uid);


--
-- Name: shodan_assets_organization_uid_76cda450; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX shodan_assets_organization_uid_76cda450 ON public.shodan_assets USING btree (organization_uid);


--
-- Name: shodan_vulns_data_source_uid_866c5b81; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX shodan_vulns_data_source_uid_866c5b81 ON public.shodan_vulns USING btree (data_source_uid);


--
-- Name: shodan_vulns_organization_uid_b2be941d; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX shodan_vulns_organization_uid_b2be941d ON public.shodan_vulns USING btree (organization_uid);


--
-- Name: sixgill_alerts_data_source_uid_be876b69; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX sixgill_alerts_data_source_uid_be876b69 ON public.sixgill_alerts USING btree (data_source_uid);


--
-- Name: sixgill_alerts_organization_uid_69a4a171; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX sixgill_alerts_organization_uid_69a4a171 ON public.sixgill_alerts USING btree (organization_uid);


--
-- Name: sixgill_alerts_sixgill_id_413b716f_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX sixgill_alerts_sixgill_id_413b716f_like ON public.sixgill_alerts USING btree (sixgill_id text_pattern_ops);


--
-- Name: sub_domains_data_source_uid_6fd21634; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX sub_domains_data_source_uid_6fd21634 ON public.sub_domains USING btree (data_source_uid);


--
-- Name: sub_domains_dns_record_uid_1e70b745; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX sub_domains_dns_record_uid_1e70b745 ON public.sub_domains USING btree (dns_record_uid);


--
-- Name: sub_domains_organization_uid_abe259f1; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX sub_domains_organization_uid_abe259f1 ON public.sub_domains USING btree (organization_uid);


--
-- Name: sub_domains_root_domain_uid_91cde39c; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX sub_domains_root_domain_uid_91cde39c ON public.sub_domains USING btree (root_domain_uid);


--
-- Name: ticket_cve_id_cd0dbbf5; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ticket_cve_id_cd0dbbf5 ON public.ticket USING btree (cve_id);


--
-- Name: ticket_event_ticket_id_0244b672; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ticket_event_ticket_id_0244b672 ON public.ticket_event USING btree (ticket_id);


--
-- Name: ticket_event_ticket_id_0244b672_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ticket_event_ticket_id_0244b672_like ON public.ticket_event USING btree (ticket_id varchar_pattern_ops);


--
-- Name: ticket_event_vuln_scan_id_7f408339; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ticket_event_vuln_scan_id_7f408339 ON public.ticket_event USING btree (vuln_scan_id);


--
-- Name: ticket_event_vuln_scan_id_7f408339_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ticket_event_vuln_scan_id_7f408339_like ON public.ticket_event USING btree (vuln_scan_id varchar_pattern_ops);


--
-- Name: ticket_id_1f17c5d6_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ticket_id_1f17c5d6_like ON public.ticket USING btree (id varchar_pattern_ops);


--
-- Name: ticket_ip_id_3aa822df; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ticket_ip_id_3aa822df ON public.ticket USING btree (ip_id);


--
-- Name: ticket_ip_id_3aa822df_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ticket_ip_id_3aa822df_like ON public.ticket USING btree (ip_id text_pattern_ops);


--
-- Name: ticket_organization_id_3759c8ee; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX ticket_organization_id_3759c8ee ON public.ticket USING btree (organization_id);


--
-- Name: top_cves_data_source_uid_753ec315; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX top_cves_data_source_uid_753ec315 ON public.top_cves USING btree (data_source_uid);


--
-- Name: user_cognitoId_1a343db2_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX "user_cognitoId_1a343db2_like" ON public."user" USING btree ("cognitoId" varchar_pattern_ops);


--
-- Name: user_email_54dc62b2_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX user_email_54dc62b2_like ON public."user" USING btree (email varchar_pattern_ops);


--
-- Name: user_login_gov_id_2dc4e9fb_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX user_login_gov_id_2dc4e9fb_like ON public."user" USING btree (login_gov_id varchar_pattern_ops);


--
-- Name: user_okta_id_144466d2_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX user_okta_id_144466d2_like ON public."user" USING btree (okta_id varchar_pattern_ops);


--
-- Name: vuln_scan_cve_id_4896d862; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX vuln_scan_cve_id_4896d862 ON public.vuln_scan USING btree (cve_id);


--
-- Name: vuln_scan_id_b81c7bc7_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX vuln_scan_id_b81c7bc7_like ON public.vuln_scan USING btree (id varchar_pattern_ops);


--
-- Name: vuln_scan_ip_id_e258bfca; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX vuln_scan_ip_id_e258bfca ON public.vuln_scan USING btree (ip_id);


--
-- Name: vuln_scan_ip_id_e258bfca_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX vuln_scan_ip_id_e258bfca_like ON public.vuln_scan USING btree (ip_id text_pattern_ops);


--
-- Name: vuln_scan_organization_id_7462dba8; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX vuln_scan_organization_id_7462dba8 ON public.vuln_scan USING btree (organization_id);


--
-- Name: vulnerability_domain_id_396cdcf6; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX vulnerability_domain_id_396cdcf6 ON public.vulnerability USING btree (domain_id);


--
-- Name: vulnerability_service_id_6cb061d7; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX vulnerability_service_id_6cb061d7 ON public.vulnerability USING btree (service_id);


--
-- Name: was_map_was_org_id_be6a736e_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX was_map_was_org_id_be6a736e_like ON public.was_map USING btree (was_org_id text_pattern_ops);


--
-- Name: web_assets_data_source_uid_716854de; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX web_assets_data_source_uid_716854de ON public.web_assets USING btree (data_source_uid);


--
-- Name: web_assets_organization_uid_5893b6b0; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX web_assets_organization_uid_5893b6b0 ON public.web_assets USING btree (organization_uid);


--
-- Name: webpage_discovered_by_id_d7969e8a; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX webpage_discovered_by_id_d7969e8a ON public.webpage USING btree (discovered_by_id);


--
-- Name: webpage_domain_id_59407f86; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX webpage_domain_id_59407f86 ON public.webpage USING btree (domain_id);


--
-- Name: xpanse_alerts_mdl_alert_id_7b6bc051_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_alerts_mdl_alert_id_7b6bc051_like ON public.xpanse_alerts_mdl USING btree (alert_id text_pattern_ops);


--
-- Name: xpanse_alerts_mdl_assets_xpansealerts_id_b8d2b7f7; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_alerts_mdl_assets_xpansealerts_id_b8d2b7f7 ON public.xpanse_alerts_mdl_assets USING btree (xpansealerts_id);


--
-- Name: xpanse_alerts_mdl_assets_xpanseassetsmdl_id_551795c3; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_alerts_mdl_assets_xpanseassetsmdl_id_551795c3 ON public.xpanse_alerts_mdl_assets USING btree (xpanseassetsmdl_id);


--
-- Name: xpanse_alerts_mdl_business_units_xpansealerts_id_c7cdac35; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_alerts_mdl_business_units_xpansealerts_id_c7cdac35 ON public.xpanse_alerts_mdl_business_units USING btree (xpansealerts_id);


--
-- Name: xpanse_alerts_mdl_business_xpansebusinessunits_id_90fd8627; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_alerts_mdl_business_xpansebusinessunits_id_90fd8627 ON public.xpanse_alerts_mdl_business_units USING btree (xpansebusinessunits_id);


--
-- Name: xpanse_alerts_mdl_services_xpansealerts_id_65bfcebc; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_alerts_mdl_services_xpansealerts_id_65bfcebc ON public.xpanse_alerts_mdl_services USING btree (xpansealerts_id);


--
-- Name: xpanse_alerts_mdl_services_xpanseservicesmdl_id_0da6657e; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_alerts_mdl_services_xpanseservicesmdl_id_0da6657e ON public.xpanse_alerts_mdl_services USING btree (xpanseservicesmdl_id);


--
-- Name: xpanse_assets_mdl_asm_id_f3e3f4d1_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_assets_mdl_asm_id_f3e3f4d1_like ON public.xpanse_assets_mdl USING btree (asm_id text_pattern_ops);


--
-- Name: xpanse_business_units_cyhy_db_name_76db20e6; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_business_units_cyhy_db_name_76db20e6 ON public.xpanse_business_units USING btree (cyhy_db_name);


--
-- Name: xpanse_business_units_cyhy_db_name_76db20e6_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_business_units_cyhy_db_name_76db20e6_like ON public.xpanse_business_units USING btree (cyhy_db_name varchar_pattern_ops);


--
-- Name: xpanse_business_units_entity_name_91b35a02_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_business_units_entity_name_91b35a02_like ON public.xpanse_business_units USING btree (entity_name text_pattern_ops);


--
-- Name: xpanse_cve_services_mdl_xpanse_inferred_cve_id_dcd2d4fe; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_cve_services_mdl_xpanse_inferred_cve_id_dcd2d4fe ON public.xpanse_cve_services_mdl USING btree (xpanse_inferred_cve_id);


--
-- Name: xpanse_cve_services_mdl_xpanse_service_id_fafe4f16; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_cve_services_mdl_xpanse_service_id_fafe4f16 ON public.xpanse_cve_services_mdl USING btree (xpanse_service_id);


--
-- Name: xpanse_cves_mdl_cve_id_afd3dc4b_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_cves_mdl_cve_id_afd3dc4b_like ON public.xpanse_cves_mdl USING btree (cve_id text_pattern_ops);


--
-- Name: xpanse_services_mdl_service_id_12ceccc0_like; Type: INDEX; Schema: public; Owner: dmz_mdl
--

CREATE INDEX xpanse_services_mdl_service_id_12ceccc0_like ON public.xpanse_services_mdl USING btree (service_id text_pattern_ops);


--
-- Name: alias alias_organization_uid_bcc2cdb9_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.alias
    ADD CONSTRAINT alias_organization_uid_bcc2cdb9_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: api_key api_key_user_id_2b8305f7_fk_user_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.api_key
    ADD CONSTRAINT api_key_user_id_2b8305f7_fk_user_id FOREIGN KEY (user_id) REFERENCES public."user"(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: asset_headers asset_headers_organization_uid_150c5556_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.asset_headers
    ADD CONSTRAINT asset_headers_organization_uid_150c5556_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cidr cidr_data_source_uid_e814595d_fk_data_source_data_source_uid; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cidr
    ADD CONSTRAINT cidr_data_source_uid_e814595d_fk_data_source_data_source_uid FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cidr_organizations cidr_organizations_cidr_id_44bd1393_fk_cidr_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cidr_organizations
    ADD CONSTRAINT cidr_organizations_cidr_id_44bd1393_fk_cidr_id FOREIGN KEY (cidr_id) REFERENCES public.cidr(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cidr_organizations cidr_organizations_organization_id_8ec1184d_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cidr_organizations
    ADD CONSTRAINT cidr_organizations_organization_id_8ec1184d_fk_organization_id FOREIGN KEY (organization_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cpe_product_mdl cpe_product_mdl_cpe_vender_uid_5449d117_fk_cpe_vende; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cpe_product_mdl
    ADD CONSTRAINT cpe_product_mdl_cpe_vender_uid_5449d117_fk_cpe_vende FOREIGN KEY (cpe_vender_uid) REFERENCES public.cpe_vender(cpe_vender_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cpe_product_mdl_cves cpe_product_mdl_cves_cpeproduct_id_6f13cbdc_fk_cpe_produ; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cpe_product_mdl_cves
    ADD CONSTRAINT cpe_product_mdl_cves_cpeproduct_id_6f13cbdc_fk_cpe_produ FOREIGN KEY (cpeproduct_id) REFERENCES public.cpe_product_mdl(cpe_product_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cpe_product_mdl_cves cpe_product_mdl_cves_cve_id_04b27219_fk_cve_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cpe_product_mdl_cves
    ADD CONSTRAINT cpe_product_mdl_cves_cve_id_04b27219_fk_cve_id FOREIGN KEY (cve_id) REFERENCES public.cve(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: credential_breaches credential_breaches_data_source_uid_04e85c76_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.credential_breaches
    ADD CONSTRAINT credential_breaches_data_source_uid_04e85c76_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: credential_exposures credential_exposures_credential_breaches__3b485b9f_fk_credentia; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.credential_exposures
    ADD CONSTRAINT credential_exposures_credential_breaches__3b485b9f_fk_credentia FOREIGN KEY (credential_breaches_uid) REFERENCES public.credential_breaches(credential_breaches_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: credential_exposures credential_exposures_data_source_uid_8fde1968_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.credential_exposures
    ADD CONSTRAINT credential_exposures_data_source_uid_8fde1968_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: credential_exposures credential_exposures_organization_uid_12543cf9_fk_organizat; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.credential_exposures
    ADD CONSTRAINT credential_exposures_organization_uid_12543cf9_fk_organizat FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cve_cpes cve_cpes_cpe_id_4f94803a_fk_cpe_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cve_cpes
    ADD CONSTRAINT cve_cpes_cpe_id_4f94803a_fk_cpe_id FOREIGN KEY (cpe_id) REFERENCES public.cpe(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cve_cpes cve_cpes_cve_id_bd26db06_fk_cve_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cve_cpes
    ADD CONSTRAINT cve_cpes_cve_id_bd26db06_fk_cve_id FOREIGN KEY (cve_id) REFERENCES public.cve(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cyhy_contacts cyhy_contacts_organization_uid_fb9c5353_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cyhy_contacts
    ADD CONSTRAINT cyhy_contacts_organization_uid_fb9c5353_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cyhy_db_assets cyhy_db_assets_organization_uid_b2101a79_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.cyhy_db_assets
    ADD CONSTRAINT cyhy_db_assets_organization_uid_b2101a79_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: domain_alerts domain_alerts_data_source_uid_a82a17ac_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.domain_alerts
    ADD CONSTRAINT domain_alerts_data_source_uid_a82a17ac_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: domain_alerts domain_alerts_sub_domain_uid_dbf29a19_fk_sub_domai; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.domain_alerts
    ADD CONSTRAINT domain_alerts_sub_domain_uid_dbf29a19_fk_sub_domai FOREIGN KEY (sub_domain_uid) REFERENCES public.sub_domains(sub_domain_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: domain_permutations domain_permutations_data_source_uid_da400900_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.domain_permutations
    ADD CONSTRAINT domain_permutations_data_source_uid_da400900_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: domain_permutations domain_permutations_organization_uid_fdfc372d_fk_organizat; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.domain_permutations
    ADD CONSTRAINT domain_permutations_organization_uid_fdfc372d_fk_organizat FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: domain_permutations domain_permutations_sub_domain_uid_a236d3ba_fk_sub_domai; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.domain_permutations
    ADD CONSTRAINT domain_permutations_sub_domain_uid_a236d3ba_fk_sub_domai FOREIGN KEY (sub_domain_uid) REFERENCES public.sub_domains(sub_domain_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: executives executives_organization_b9920fa6_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.executives
    ADD CONSTRAINT executives_organization_b9920fa6_fk_organization_id FOREIGN KEY (organization) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: host host_ip_id_ef54cba9_fk_ip_ip_hash; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.host
    ADD CONSTRAINT host_ip_id_ef54cba9_fk_ip_ip_hash FOREIGN KEY (ip_id) REFERENCES public.ip(ip_hash) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: host host_organization_id_fbf51ac7_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.host
    ADD CONSTRAINT host_organization_id_fbf51ac7_fk_organization_id FOREIGN KEY (organization_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ip ip_organization_id_241abc40_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ip
    ADD CONSTRAINT ip_organization_id_241abc40_fk_organization_id FOREIGN KEY (organization_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ip ip_origin_cidr_f9b724e9_fk_cidr_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ip
    ADD CONSTRAINT ip_origin_cidr_f9b724e9_fk_cidr_id FOREIGN KEY (origin_cidr) REFERENCES public.cidr(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ip_sub_domains ip_sub_domains_ip_id_079f6ccb_fk_ip_ip_hash; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ip_sub_domains
    ADD CONSTRAINT ip_sub_domains_ip_id_079f6ccb_fk_ip_ip_hash FOREIGN KEY (ip_id) REFERENCES public.ip(ip_hash) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ip_sub_domains ip_sub_domains_subdomains_id_681ba276_fk_sub_domai; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ip_sub_domains
    ADD CONSTRAINT ip_sub_domains_subdomains_id_681ba276_fk_sub_domai FOREIGN KEY (subdomains_id) REFERENCES public.sub_domains(sub_domain_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: mentions mentions_data_source_uid_5c5f8bf8_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.mentions
    ADD CONSTRAINT mentions_data_source_uid_5c5f8bf8_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: mentions mentions_organization_uid_b7fececb_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.mentions
    ADD CONSTRAINT mentions_organization_uid_b7fececb_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: organization organization_created_by_id_35551e36_fk_user_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization
    ADD CONSTRAINT organization_created_by_id_35551e36_fk_user_id FOREIGN KEY (created_by_id) REFERENCES public."user"(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: organization organization_location_id_067f8a89_fk_location_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization
    ADD CONSTRAINT organization_location_id_067f8a89_fk_location_id FOREIGN KEY (location_id) REFERENCES public.location(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: organization organization_org_type_id_9d510ee1_fk_org_type_org_type_uid; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization
    ADD CONSTRAINT organization_org_type_id_9d510ee1_fk_org_type_org_type_uid FOREIGN KEY (org_type_id) REFERENCES public.org_type(org_type_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: organization organization_parent_id_981c8191_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization
    ADD CONSTRAINT organization_parent_id_981c8191_fk_organization_id FOREIGN KEY (parent_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: organization_tag_organization organization_tag_org_organization_id_dcb828c9_fk_organizat; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization_tag_organization
    ADD CONSTRAINT organization_tag_org_organization_id_dcb828c9_fk_organizat FOREIGN KEY (organization_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: organization_tag_organization organization_tag_org_organizationtag_id_2a848187_fk_organizat; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.organization_tag_organization
    ADD CONSTRAINT organization_tag_org_organizationtag_id_2a848187_fk_organizat FOREIGN KEY (organizationtag_id) REFERENCES public.organization_tag(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: pe_report_summary_stats pe_report_summary_st_organization_uid_7704a098_fk_organizat; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pe_report_summary_stats
    ADD CONSTRAINT pe_report_summary_st_organization_uid_7704a098_fk_organizat FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: port_scan port_scan_ip_id_5ac3d203_fk_ip_ip_hash; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.port_scan
    ADD CONSTRAINT port_scan_ip_id_5ac3d203_fk_ip_ip_hash FOREIGN KEY (ip_id) REFERENCES public.ip(ip_hash) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: port_scan port_scan_organization_id_7a457e61_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.port_scan
    ADD CONSTRAINT port_scan_organization_id_7a457e61_fk_organization_id FOREIGN KEY (organization_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: pshtt_results pshtt_results_data_source_uid_59849107_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pshtt_results
    ADD CONSTRAINT pshtt_results_data_source_uid_59849107_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: pshtt_results pshtt_results_organization_uid_58ebe095_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.pshtt_results
    ADD CONSTRAINT pshtt_results_organization_uid_58ebe095_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: role role_approved_by_id_27a41bea_fk_user_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_approved_by_id_27a41bea_fk_user_id FOREIGN KEY (approved_by_id) REFERENCES public."user"(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: role role_created_by_id_bffd5752_fk_user_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_created_by_id_bffd5752_fk_user_id FOREIGN KEY (created_by_id) REFERENCES public."user"(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: role role_organization_id_d00f912a_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_organization_id_d00f912a_fk_organization_id FOREIGN KEY (organization_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: role role_user_id_8cace677_fk_user_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_user_id_8cace677_fk_user_id FOREIGN KEY (user_id) REFERENCES public."user"(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: root_domains root_domains_data_source_uid_890b0a7e_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.root_domains
    ADD CONSTRAINT root_domains_data_source_uid_890b0a7e_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: root_domains root_domains_organization_uid_c75c3a9f_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.root_domains
    ADD CONSTRAINT root_domains_organization_uid_c75c3a9f_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: saved_search saved_search_created_by_id_f29cf571_fk_user_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.saved_search
    ADD CONSTRAINT saved_search_created_by_id_f29cf571_fk_user_id FOREIGN KEY (created_by_id) REFERENCES public."user"(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: scan scan_created_by_e45cf6fe_fk_user_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan
    ADD CONSTRAINT scan_created_by_e45cf6fe_fk_user_id FOREIGN KEY (created_by) REFERENCES public."user"(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: scan_organization_tags scan_organization_ta_organizationtag_id_1beaa19c_fk_organizat; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_organization_tags
    ADD CONSTRAINT scan_organization_ta_organizationtag_id_1beaa19c_fk_organizat FOREIGN KEY (organizationtag_id) REFERENCES public.organization_tag(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: scan_organization_tags scan_organization_tags_scan_id_6cc5e82b_fk_scan_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_organization_tags
    ADD CONSTRAINT scan_organization_tags_scan_id_6cc5e82b_fk_scan_id FOREIGN KEY (scan_id) REFERENCES public.scan(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: scan_organizations scan_organizations_organization_id_2e852548_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_organizations
    ADD CONSTRAINT scan_organizations_organization_id_2e852548_fk_organization_id FOREIGN KEY (organization_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: scan_organizations scan_organizations_scan_id_f6f0b182_fk_scan_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_organizations
    ADD CONSTRAINT scan_organizations_scan_id_f6f0b182_fk_scan_id FOREIGN KEY (scan_id) REFERENCES public.scan(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: scan_task_organization_tags scan_task_organizati_organizationtag_id_1aee59b1_fk_organizat; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_task_organization_tags
    ADD CONSTRAINT scan_task_organizati_organizationtag_id_1aee59b1_fk_organizat FOREIGN KEY (organizationtag_id) REFERENCES public.organization_tag(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: scan_task_organization_tags scan_task_organizati_scantask_id_187d7073_fk_scan_task; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_task_organization_tags
    ADD CONSTRAINT scan_task_organizati_scantask_id_187d7073_fk_scan_task FOREIGN KEY (scantask_id) REFERENCES public.scan_task(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: scan_task scan_task_organization_id_73d56e9e_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_task
    ADD CONSTRAINT scan_task_organization_id_73d56e9e_fk_organization_id FOREIGN KEY (organization_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: scan_task scan_task_scan_id_be503edb_fk_scan_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.scan_task
    ADD CONSTRAINT scan_task_scan_id_be503edb_fk_scan_id FOREIGN KEY (scan_id) REFERENCES public.scan(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: sector_organizations sector_organizations_organization_id_a28a5990_fk_organizat; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sector_organizations
    ADD CONSTRAINT sector_organizations_organization_id_a28a5990_fk_organizat FOREIGN KEY (organization_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: sector_organizations sector_organizations_sector_id_dc248e70_fk_sector_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sector_organizations
    ADD CONSTRAINT sector_organizations_sector_id_dc248e70_fk_sector_id FOREIGN KEY (sector_id) REFERENCES public.sector(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: service service_discovered_by_id_5b0c28e9_fk_scan_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.service
    ADD CONSTRAINT service_discovered_by_id_5b0c28e9_fk_scan_id FOREIGN KEY (discovered_by_id) REFERENCES public.scan(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: service service_domain_id_ed507973_fk_sub_domains_sub_domain_uid; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.service
    ADD CONSTRAINT service_domain_id_ed507973_fk_sub_domains_sub_domain_uid FOREIGN KEY (domain_id) REFERENCES public.sub_domains(sub_domain_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: shodan_assets shodan_assets_data_source_uid_acd993ab_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.shodan_assets
    ADD CONSTRAINT shodan_assets_data_source_uid_acd993ab_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: shodan_assets shodan_assets_organization_uid_76cda450_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.shodan_assets
    ADD CONSTRAINT shodan_assets_organization_uid_76cda450_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: shodan_vulns shodan_vulns_data_source_uid_866c5b81_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.shodan_vulns
    ADD CONSTRAINT shodan_vulns_data_source_uid_866c5b81_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: shodan_vulns shodan_vulns_organization_uid_b2be941d_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.shodan_vulns
    ADD CONSTRAINT shodan_vulns_organization_uid_b2be941d_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: sixgill_alerts sixgill_alerts_data_source_uid_be876b69_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sixgill_alerts
    ADD CONSTRAINT sixgill_alerts_data_source_uid_be876b69_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: sixgill_alerts sixgill_alerts_organization_uid_69a4a171_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sixgill_alerts
    ADD CONSTRAINT sixgill_alerts_organization_uid_69a4a171_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: sub_domains sub_domains_data_source_uid_6fd21634_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sub_domains
    ADD CONSTRAINT sub_domains_data_source_uid_6fd21634_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: sub_domains sub_domains_dns_record_uid_1e70b745_fk_dns_recor; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sub_domains
    ADD CONSTRAINT sub_domains_dns_record_uid_1e70b745_fk_dns_recor FOREIGN KEY (dns_record_uid) REFERENCES public.dns_records(dns_record_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: sub_domains sub_domains_organization_uid_abe259f1_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sub_domains
    ADD CONSTRAINT sub_domains_organization_uid_abe259f1_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: sub_domains sub_domains_root_domain_uid_91cde39c_fk_root_doma; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.sub_domains
    ADD CONSTRAINT sub_domains_root_domain_uid_91cde39c_fk_root_doma FOREIGN KEY (root_domain_uid) REFERENCES public.root_domains(root_domain_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ticket ticket_cve_id_cd0dbbf5_fk_cve_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_cve_id_cd0dbbf5_fk_cve_id FOREIGN KEY (cve_id) REFERENCES public.cve(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ticket_event ticket_event_ticket_id_0244b672_fk_ticket_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ticket_event
    ADD CONSTRAINT ticket_event_ticket_id_0244b672_fk_ticket_id FOREIGN KEY (ticket_id) REFERENCES public.ticket(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ticket_event ticket_event_vuln_scan_id_7f408339_fk_vuln_scan_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ticket_event
    ADD CONSTRAINT ticket_event_vuln_scan_id_7f408339_fk_vuln_scan_id FOREIGN KEY (vuln_scan_id) REFERENCES public.vuln_scan(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ticket ticket_ip_id_3aa822df_fk_ip_ip_hash; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_ip_id_3aa822df_fk_ip_ip_hash FOREIGN KEY (ip_id) REFERENCES public.ip(ip_hash) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: ticket ticket_organization_id_3759c8ee_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_organization_id_3759c8ee_fk_organization_id FOREIGN KEY (organization_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: top_cves top_cves_data_source_uid_753ec315_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.top_cves
    ADD CONSTRAINT top_cves_data_source_uid_753ec315_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: vuln_scan vuln_scan_cve_id_4896d862_fk_cve_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.vuln_scan
    ADD CONSTRAINT vuln_scan_cve_id_4896d862_fk_cve_id FOREIGN KEY (cve_id) REFERENCES public.cve(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: vuln_scan vuln_scan_ip_id_e258bfca_fk_ip_ip_hash; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.vuln_scan
    ADD CONSTRAINT vuln_scan_ip_id_e258bfca_fk_ip_ip_hash FOREIGN KEY (ip_id) REFERENCES public.ip(ip_hash) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: vuln_scan vuln_scan_organization_id_7462dba8_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.vuln_scan
    ADD CONSTRAINT vuln_scan_organization_id_7462dba8_fk_organization_id FOREIGN KEY (organization_id) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: vulnerability vulnerability_domain_id_396cdcf6_fk_sub_domains_sub_domain_uid; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.vulnerability
    ADD CONSTRAINT vulnerability_domain_id_396cdcf6_fk_sub_domains_sub_domain_uid FOREIGN KEY (domain_id) REFERENCES public.sub_domains(sub_domain_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: vulnerability vulnerability_service_id_6cb061d7_fk_service_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.vulnerability
    ADD CONSTRAINT vulnerability_service_id_6cb061d7_fk_service_id FOREIGN KEY (service_id) REFERENCES public.service(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: web_assets web_assets_data_source_uid_716854de_fk_data_sour; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.web_assets
    ADD CONSTRAINT web_assets_data_source_uid_716854de_fk_data_sour FOREIGN KEY (data_source_uid) REFERENCES public.data_source(data_source_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: web_assets web_assets_organization_uid_5893b6b0_fk_organization_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.web_assets
    ADD CONSTRAINT web_assets_organization_uid_5893b6b0_fk_organization_id FOREIGN KEY (organization_uid) REFERENCES public.organization(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: webpage webpage_discovered_by_id_d7969e8a_fk_scan_id; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.webpage
    ADD CONSTRAINT webpage_discovered_by_id_d7969e8a_fk_scan_id FOREIGN KEY (discovered_by_id) REFERENCES public.scan(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: webpage webpage_domain_id_59407f86_fk_sub_domains_sub_domain_uid; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.webpage
    ADD CONSTRAINT webpage_domain_id_59407f86_fk_sub_domains_sub_domain_uid FOREIGN KEY (domain_id) REFERENCES public.sub_domains(sub_domain_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: xpanse_alerts_mdl_assets xpanse_alerts_mdl_as_xpansealerts_id_b8d2b7f7_fk_xpanse_al; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_assets
    ADD CONSTRAINT xpanse_alerts_mdl_as_xpansealerts_id_b8d2b7f7_fk_xpanse_al FOREIGN KEY (xpansealerts_id) REFERENCES public.xpanse_alerts_mdl(xpanse_alert_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: xpanse_alerts_mdl_assets xpanse_alerts_mdl_as_xpanseassetsmdl_id_551795c3_fk_xpanse_as; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_assets
    ADD CONSTRAINT xpanse_alerts_mdl_as_xpanseassetsmdl_id_551795c3_fk_xpanse_as FOREIGN KEY (xpanseassetsmdl_id) REFERENCES public.xpanse_assets_mdl(xpanse_asset_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: xpanse_alerts_mdl_business_units xpanse_alerts_mdl_bu_xpansealerts_id_c7cdac35_fk_xpanse_al; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_business_units
    ADD CONSTRAINT xpanse_alerts_mdl_bu_xpansealerts_id_c7cdac35_fk_xpanse_al FOREIGN KEY (xpansealerts_id) REFERENCES public.xpanse_alerts_mdl(xpanse_alert_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: xpanse_alerts_mdl_business_units xpanse_alerts_mdl_bu_xpansebusinessunits__90fd8627_fk_xpanse_bu; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_business_units
    ADD CONSTRAINT xpanse_alerts_mdl_bu_xpansebusinessunits__90fd8627_fk_xpanse_bu FOREIGN KEY (xpansebusinessunits_id) REFERENCES public.xpanse_business_units(xpanse_business_unit_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: xpanse_alerts_mdl_services xpanse_alerts_mdl_se_xpansealerts_id_65bfcebc_fk_xpanse_al; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_services
    ADD CONSTRAINT xpanse_alerts_mdl_se_xpansealerts_id_65bfcebc_fk_xpanse_al FOREIGN KEY (xpansealerts_id) REFERENCES public.xpanse_alerts_mdl(xpanse_alert_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: xpanse_alerts_mdl_services xpanse_alerts_mdl_se_xpanseservicesmdl_id_0da6657e_fk_xpanse_se; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_alerts_mdl_services
    ADD CONSTRAINT xpanse_alerts_mdl_se_xpanseservicesmdl_id_0da6657e_fk_xpanse_se FOREIGN KEY (xpanseservicesmdl_id) REFERENCES public.xpanse_services_mdl(xpanse_service_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: xpanse_business_units xpanse_business_unit_cyhy_db_name_76db20e6_fk_organizat; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_business_units
    ADD CONSTRAINT xpanse_business_unit_cyhy_db_name_76db20e6_fk_organizat FOREIGN KEY (cyhy_db_name) REFERENCES public.organization(acronym) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: xpanse_cve_services_mdl xpanse_cve_services__xpanse_inferred_cve__dcd2d4fe_fk_xpanse_cv; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_cve_services_mdl
    ADD CONSTRAINT xpanse_cve_services__xpanse_inferred_cve__dcd2d4fe_fk_xpanse_cv FOREIGN KEY (xpanse_inferred_cve_id) REFERENCES public.xpanse_cves_mdl(xpanse_cve_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: xpanse_cve_services_mdl xpanse_cve_services__xpanse_service_id_fafe4f16_fk_xpanse_se; Type: FK CONSTRAINT; Schema: public; Owner: dmz_mdl
--

ALTER TABLE ONLY public.xpanse_cve_services_mdl
    ADD CONSTRAINT xpanse_cve_services__xpanse_service_id_fafe4f16_fk_xpanse_se FOREIGN KEY (xpanse_service_id) REFERENCES public.xpanse_services_mdl(xpanse_service_uid) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: crossfeed
--

REVOKE USAGE ON SCHEMA public FROM PUBLIC;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- PostgreSQL database dump complete
--

